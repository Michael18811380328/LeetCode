# [å‰ç«¯ç®—æ³•ç³»ç»Ÿç»ƒä¹ æŒ‡å—](http://47.98.159.95/leetcode-js/)

https://github.com/sanyuan0704/leetcode-js

# ç»ƒä¹ ä¹‹å‰ï¼Œä½ éœ€è¦äº†è§£çš„

## [#](http://47.98.159.95/leetcode-js/nav/#é€‚ç”¨äººç¾¤)é€‚ç”¨äººç¾¤

å¦‚æœä½ æ­£åœ¨ä¸º**é¢è¯•**åšå‡†å¤‡ï¼Œå´å¯¹äºåºæ‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•çŸ¥è¯†ï¼Œä¸çŸ¥é“ä½•ä»ä¸‹æ‰‹ï¼›

å¦‚æœä½ ä»¥å‰æ›¾ç»å­¦è¿‡ä¸€äº›åŸºç¡€çš„æ•°æ®ç»“æ„æˆ–è€…ç®—æ³•çš„**åŸºç¡€çŸ¥è¯†**ï¼Œå´æ ¹æœ¬æ²¡æœ‰ç†è§£æ¸…æ¥šï¼Œæ›´ä¸èƒ½ç‹¬ç«‹å®Œæˆç®—æ³•çš„è®¾è®¡, æƒ³é‡æ–°å·©å›ºè¿™æ–¹é¢çš„çŸ¥è¯†ï¼›

å¦‚æœå·²ç»æœ‰äº†ä¸€å°æ®µå·¥ä½œç»éªŒï¼Œä½†å´è€æ˜¯åœ¨æ•´å¤©`ç”¨è½®å­`ã€`è°ƒAPI`å½“ä¸­åº¦è¿‡ï¼Œæƒ³çœ‹ä¸€çœ‹åº•å±‚çš„æºç å´å¸¸å¸¸å› **ç¼–ç¨‹çš„å†…åŠ›**ä¸è¶³è€Œæ”¾å¼ƒï¼›

å¦‚æœä½ å¬è¯´è¿‡`LeetCode`è¿™ä¸ªç½‘ç«™ï¼Œæƒ³è¦ä¸€åˆ·åˆ°åº•ï¼Œè¿ˆå‘ç®—æ³•å·…å³°ï¼Œå´å› ä¸º`æµ©ç€šçš„é¢˜é‡`å’Œ`ç¼ºä¹ç³»ç»Ÿè®­ç»ƒ`æ„Ÿåˆ°æ— åŠ›ï¼Œä¸‰å¤©æ‰“é±¼ä¸¤å¤©æ™’ç½‘ï¼Œè¿›è€Œæ„Ÿåˆ°ç„¦è™‘ï¼Œç”šè‡³æ”¾å¼ƒ......

å¦‚æœä¸Šé¢ä»»ä½•ä¸€æ¡ç¬¦åˆä½ çš„ç°çŠ¶ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œä½ æ¥å¯¹äº†åœ°æ–¹ã€‚ä½œä¸ºä¸€ä¸ªåœˆå†…å°æœ‰åæ°”çš„[å‰ç«¯åšä¸»](https://juejin.im/user/5c45ddf06fb9a04a006f5491)ï¼Œæˆ‘æƒ³å€Ÿç€æˆ‘çš„å½±å“åŠ›ï¼Œåˆ†äº«å‡ºæˆ‘ç³»ç»Ÿæ¢³ç†å’Œç»ƒä¹ çš„è¿‡ç¨‹ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©åˆ°æ›´å¤šè·Ÿæˆ‘ä¸€æ ·é‡åˆ°ç±»ä¼¼å›°éš¾çš„äººï¼Œè®©ä½ å°‘ä¸€äº›ä¸å¿…è¦çš„æŠ˜è…¾ã€‚

å…¨ç¨‹ä½¿ç”¨çš„è¯­è¨€æ˜¯ `JavaScript`ï¼Œå› æ­¤æ ‡é¢˜ä¸Šè¯´çš„æ˜¯å‰ç«¯xxx, ä½†å®é™…ä¸Šä½ ä¹ŸçŸ¥é“ï¼Œæ•°æ®ç»“æ„å’Œç®—æ³•è¿™ä¸œè¥¿ä¸»è¦æ˜¯è€ƒéªŒä¸€ä¸ªäººçš„æ€ç»´ï¼Œè‡³äºè¯­è¨€ï¼Œå…¶ä¸­å¹¶æ²¡æœ‰ç”¨åˆ°ä»»ä½• JS çš„é«˜æ·±è¯­æ³•ç‰¹æ€§ï¼Œåªè¦æœ‰æ‰€ç¼–ç¨‹ç»éªŒï¼Œèƒ½ç†è§£ä»£ç æ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜çš„ï¼Œè¿™ä¸€ç‚¹å¤§å®¶æ”¾å¿ƒã€‚

## [#](http://47.98.159.95/leetcode-js/nav/#ç®—æ³•æ²¡æœ‰ç”¨ï¼Ÿ)ç®—æ³•æ²¡æœ‰ç”¨ï¼Ÿ

æˆ‘æƒ³å„ä½å½“ä¸­è‚¯å®šæœ‰å‡†å¤‡é¢è¯•çš„åŒå­¦ï¼Œé‚£ä¹ˆä½ è‚¯å®šå¬è¯´è¿‡`é¢è¯•é€ ç«ç®­ï¼Œå·¥ä½œæ‹§èºä¸`, ä¸å°‘äººä¹Ÿæ‹¿è¿™å¥è¯æ‹¿æ¥è¯Ÿç—…å½“å‰ä¸€äº›äº’è”ç½‘å¤§å‚çš„ç®—æ³•é¢è¯•ï¼Œå› æ­¤å°±æœ‰è¿™æ ·çš„è¨€è®º: **é™¤äº†åº”ä»˜é¢è¯•ï¼Œå­¦ç®—æ³•å…¶å®æ²¡å•¥ç”¨**ã€‚

è¿™å¥è¯æˆ‘å¹¶ä¸å®Œå…¨åå¯¹ï¼Œå› ä¸ºç°åœ¨éšç€æŠ€æœ¯ç”Ÿæ€çš„å‘å±•ï¼Œå„ä½èµ°åœ¨é¢†åŸŸå‰æ²¿çš„å¤§ç‰›ä»¬å·²ç»ç»™å¤§å®¶å¤‡è¶³äº†è½®å­ï¼Œé‡åˆ°ä¸€èˆ¬çš„ä¸šåŠ¡é—®é¢˜ç›´æ¥æŠŠäººå®¶çš„æ–¹æ¡ˆæ‹¿åˆ°ç”¨å°±å¯ä»¥äº†ï¼Œå¦å¤–æˆ‘ä¹Ÿçœ‹åˆ°è¿‡ä¸€å¥è¯ï¼Œåˆšå¼€å§‹è§‰å¾—æ‰¯æ·¡ï¼Œåæ¥æƒ³æƒ³è§‰å¾—æœ‰é‚£ä¹ˆä¸€ä¸é“ç†:

> å‡¡æ˜¯éœ€è¦è·¨è¿‡ä¸€å®šæ™ºå•†é—¨æ§›æ‰èƒ½æŒæ¡çš„æŠ€æœ¯ï¼Œéƒ½ä¸ä¼šè½»æ˜“çš„æµè¡Œã€‚

æ¢å¥è¯è¯´ï¼šæŠ€æœ¯å˜å¾—æ›´ç®€å•ï¼Œåˆ«äººæ›´æ„¿æ„ç”¨ï¼Œæ›´å®¹æ˜“æµè¡Œã€‚

è¿™ä¹Ÿæ˜¯å½“å‰å„ç§æŠ€æœ¯æ¡†æ¶çš„çœŸå®å†™ç…§: **è¶³å¤Ÿå¥½ç”¨ï¼Œè¶³å¤Ÿç®€å•ï¼Œç®€å•åˆ°ä½ ä¸éœ€è¦çŸ¥é“åº•å±‚å¤æ‚çš„ç»†èŠ‚**ã€‚

é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä½œä¸ºä¸€ä¸ªé›†æ™ºæ…§å’Œæ‰åäºä¸€èº«çš„ç¨‹åºå‘˜ï¼Œè‡ªå·±çš„ä»·å€¼åœ¨å“ªé‡Œï¼Ÿ

æˆ‘è§‰å¾—ä»·å€¼çš„å¤§å°å–å†³äºä½ èƒ½å¤Ÿè§£å†³çš„é—®é¢˜ï¼Œå¦‚æœè¯´ç…§ç€è®¾è®¡ç¨¿ç”»å‡ºä¸€ä¸ªç®€å•çš„ Buttonï¼Œä½ èƒ½å®Œæˆï¼Œåˆ«çš„å‰ç«¯ä¹Ÿèƒ½å®Œæˆï¼Œç”šè‡³ååç«¯çš„åŒå­¦éƒ½èƒ½æŠŠæ•ˆæœå·®ä¸å¤šåšå‡ºæ¥ï¼Œé‚£è¿™ä¸ªæ—¶å€™å°±è°ˆä½•ä¸ªäººä»·å€¼ï¼Ÿåªä¸è¿‡åœ¨ä¸€ä¸ªéšæ—¶**å¯æ›¿ä»£**çš„å²—ä½ä¸Šå®Œæˆäº†å¤§å¤šæ•°äººèƒ½è½»æ˜“åšåˆ°çš„äº‹æƒ…ï¼Œå¼ ä¸‰æ¥å®Œæˆï¼Œæˆ–è€…æå››æ¥å®Œæˆï¼Œå…¶å®æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚

ä½†æ˜¯ç°åœ¨å¦‚æœé¢å¯¹çš„æ˜¯ä¸€ä¸ªå¤æ‚çš„å·¥ç¨‹é—®é¢˜ï¼Œéœ€è¦ä½ æ¥å¼€å‘ä¸€ä¸ªè¾…åŠ©ä¸šåŠ¡çš„**è„šæ‰‹æ¶å·¥å…·**ï¼Œæ”¹é€ **æ¡†æ¶æºç **æ¥æé«˜é¡¹ç›®çš„æ‰©å±•æ€§ï¼Œæˆ–è€…é¢å¯¹ä¸¥é‡çš„æ€§èƒ½é—®é¢˜èƒ½é©¬ä¸Šåˆ†æå‡ºåŸå› ï¼Œç„¶åç»™å‡ºè§£å†³çš„æ€è·¯å¹¶åœ¨ä¸åŒå› ç´ ä¸­**å¹³è¡¡**ï¼Œè¿™äº›éƒ½ä¸æ˜¯ä¸€ä¸ªä¸šä½™çš„ç©å®¶èƒ½å¤Ÿåœ¨çŸ­æ—¶é—´å†…èƒœä»»çš„ï¼Œè¿™å°±æ˜¯ä½“ç°è‡ªå·±ä»·å€¼çš„åœ°æ–¹ã€‚

å›åˆ°ç®—æ³•æœ¬èº«ï¼Œå®ƒä»£è¡¨çš„æ˜¯ä½ **è§£å†³æ›´åŠ å¤æ‚é—®é¢˜**èƒ½åŠ›çš„ä¸€éƒ¨åˆ†ã€‚

å¯èƒ½å¹²è®²ä¸å®¹æ˜“ç†è§£ï¼Œæˆ‘ä»¬ä»¥ Vue è¿™ä¸ªæ¡†æ¶ä¸ºä¾‹ï¼Œå¦‚æœä½ ä»¥å‰æ²¡æœ‰æ¥è§¦è¿‡`æ·±åº¦ä¼˜å…ˆéå†`å’Œ`é€’å½’`çš„æ¦‚å¿µï¼Œæ²¡æœ‰çœ‹è¿‡ç›¸åº”çš„ä»£ç ï¼Œé‚£ä¹ˆè™šæ‹Ÿ DOM æ•´ä¸ª`patch`çš„æºç ä½ æ˜¯åŸºæœ¬ä¸å¯èƒ½çœ‹æ‡‚çš„ï¼›å¦‚æœä½ æ²¡æœ‰ç³»ç»ŸæŒæ¡è¿‡`æ ˆ`å…ˆè¿›åå‡ºè¿™ç§ç‰¹ç‚¹çš„åº”ç”¨ï¼Œä½ ä¹Ÿæ˜¯å¾ˆéš¾ç†è§£ Vue æ¨¡æ¿ç¼–è¯‘é˜¶æ®µä¸ºä»€ä¹ˆè¦ç”¨æ ˆæ¥æ£€æŸ¥æ ‡ç­¾æ˜¯å¦æ­£å¸¸é—­åˆï¼›åŒæ ·çš„ï¼Œå¦‚æœä½ æ²¡æœ‰`å›æº¯`è¿™ç§ç®—æ³•çš„ä»£ç ç»éªŒï¼Œä½ ä¹Ÿæ˜¯å¾ˆéš¾ç†è§£ Vue æ¨¡æ¿ç¼–è¯‘çš„ä¼˜åŒ–é˜¶æ®µï¼Œåˆ°åº•æ˜¯æ€æ ·åœ¨**ä»çˆ¶åˆ°å­**æ·±åº¦ä¼˜å…ˆéå†çš„è¿‡ç¨‹ä¸­**æ£€æŸ¥åˆ°éé™æ€çš„å­èŠ‚ç‚¹**åç»™çˆ¶èŠ‚ç‚¹æ‰“ä¸Šæ ‡è®°ï¼›å¹¶ä¸”ï¼Œå¦‚æœä½ ä»¥å‰ä¸çŸ¥é“ `LRU ç¼“å­˜æ·˜æ±°ç®—æ³•`ç©¶ç«Ÿæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œä½ çœ‹åˆ°`keep-alive`ç»„ä»¶çš„å®ç°è¿™é‡Œä¼šéå¸¸çº³é—·:

```js
if (cache[key]) {
  vnode.componentInstance = cache[key].componentInstance
  // make current key freshest
  remove(keys, key)
  keys.push(key)
}
```

1
2
3
4
5
6

ç¼“å­˜å‘½ä¸­äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç»´æŠ¤ä¸€ä¸ª keys æ•°ç»„ï¼Œè€Œä¸”æŠŠè¿™ä¸ª key ä»æ•°ç»„ä¸­åˆ äº†ï¼Œåˆè¦æ”¾åˆ°æœ«å°¾ï¼Œå•¥æ“ä½œå‘¢ï¼Ÿ

å¦‚æœä¹‹å‰æœ‰ç›¸åº”ç®—æ³•åŸºç¡€ï¼Œä½ åè€Œä¼šè§‰å¾—è¿™ä¸ªç†æ‰€å½“ç„¶çš„äº‹æƒ…ã€‚

çœ‹åˆ°äº†å§ï¼Ÿä½ è§‰å¾—å°¤å¤§èƒ½å†™å‡ºä¼˜ç§€çš„â€œæ˜æ˜Ÿâ€é¡¹ç›®ï¼Œä¼šæ²¡æœ‰ä¸€ç‚¹æ‰å®çš„æ•°æ®ç»“æ„å’Œç®—æ³•åŠŸåº•ï¼Ÿ

å½“ç„¶ä¸ä»…ä»…æ˜¯å‰ç«¯é¢†åŸŸï¼Œæˆ‘æƒ³æœåŠ¡ç«¯ä¹Ÿæ˜¯å·®ä¸å¤šçš„æƒ…å†µï¼Œè¿™é‡Œå°±ä¸å¤šä¸¾ä¾‹äº†ã€‚

æ‰€ä»¥å„ä½ï¼Œæˆ‘è®¤ä¸ºåŸºæœ¬çš„ç®—æ³•èƒ½åŠ›å¯¹äºä¸€ä¸ªæƒ³è¦è§£å†³å¤æ‚é—®é¢˜çš„å·¥ç¨‹å¸ˆè€Œè¨€ï¼Œä¸æ˜¯ä¸€ä¸ªåŠ åˆ†é¡¹ï¼Œè€Œä¸”æ˜¯**å¿…å¤‡é¡¹**ã€‚ç®—æ³•æœ‰å¤§ç”¨ã€‚

## [#](http://47.98.159.95/leetcode-js/nav/#å¦‚ä½•ç³»ç»Ÿç»ƒä¹ ï¼Ÿ)å¦‚ä½•ç³»ç»Ÿç»ƒä¹ ï¼Ÿ

æ¥ä¸‹æ¥æˆ‘æ¥åˆ†äº«ä¸€ä¸‹ç»ƒä¹ æ•°æ®ç»“æ„å’Œç®—æ³•çš„ä¸€äº›å¿ƒå¾—ï¼Œæˆ–è€…æ–¹æ³•ï¼Œåˆ†ä¸¤ä¸ªå…³é”®å­—æ¥è¯´: **ç³»ç»Ÿ**å’Œ**ç»ƒä¹ **ã€‚

### [#](http://47.98.159.95/leetcode-js/nav/#ä¸“é¢˜çªç ´)ä¸“é¢˜çªç ´

å¦‚ä½•åšåˆ°**ç³»ç»Ÿ**çš„è®­ç»ƒï¼Ÿ

æˆ‘æƒ³æŒ‰ç…§`LeetCode`ä¸Šçš„é¡ºåºä¸€é¢˜ä¸€é¢˜åˆ·è‚¯å®šä¸æ˜¯ç³»ç»Ÿï¼Œå¤§éƒ¨åˆ†æƒ…å†µæ˜¯ç›¸é‚»çš„å‡ ä¸ªé¢˜æ¯«æ— è”ç³»ï¼Œè¿™ä¸€é¢˜åšäº†ä¸ªé“¾è¡¨ç›¸å…³çš„ï¼Œä¸‹ä¸€é¢˜åˆæ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œå†ä¸‹ä¸€é¢˜åˆäº†ä¸€ä¸ªäºŒåˆ†æœç´¢æ ‘ï¼Œæ€ç»´ä¸æ–­çš„è·³è½¬ï¼Œä¸€æ–¹é¢å¯èƒ½ä½ çš„åŸºç¡€å¾ˆè–„å¼±ï¼Œå„ä¸ªæ•°æ®ç»“æ„å’Œç®—æ³•ç†è§£çš„å¹¶ä¸æ·±åˆ»ï¼Œåå¤è·³åˆ°ä½ ä¸ç†Ÿæ‚‰çš„åœ°æ–¹ï¼Œä¼šæŒ«è´¥ä½ çš„ä¿¡å¿ƒï¼Œå¢åŠ ç„¦è™‘ï¼Œç”šè‡³ç›´æ¥åŠé€€ï¼Œå¦ä¸€æ–¹é¢ï¼Œå¯èƒ½å†é‡åˆ°éš¾ä¸€ç‚¹çš„`é“¾è¡¨`é¢˜ï¼Œä½ åˆä¸ä¼šäº†ï¼Œå¯èƒ½ä½ ä¼šçº³é—·: ä¸æ˜¯åˆšåˆšæ‰å†™å‡ºæ¥äº†ä¸€ä¸ªé“¾è¡¨é¢˜å—ï¼Ÿæ€ä¹ˆç°åœ¨åˆä¸ä¼šäº†ï¼Ÿå®¹æ˜“è®©ä½ äº§ç”Ÿè‡ªæˆ‘æ€€ç–‘ï¼Œä¹Ÿä¼šå½±å“ä½ è®­ç»ƒçš„è‡ªé©±åŠ›ã€‚

å› æ­¤æˆ‘è§‰å¾—åˆ†ä¸“é¢˜å„ä¸ªè®­ç»ƒçªç ´æ˜¯ä¸€ä¸ªç›¸å¯¹åˆç†çš„**æˆ˜ç•¥**ã€‚åœ¨åšåˆ°`ä¸“`å’Œ`ç²¾`çš„åŒæ—¶ï¼Œä¹Ÿä¼šè®©ä½ æŒæ¡çš„æ›´å¿«ï¼Œä»è€Œæ›´å®¹æ˜“è§£å‡ºç±»ä¼¼çš„é¢˜ï¼Œå¢å¼ºè‡ªä¿¡å¿ƒã€‚

å¦å¤–è¦ä»‹ç»çš„å°±æ˜¯æœ¬ç³»åˆ—çš„ä¸“é¢˜ç³»ç»Ÿäº†ï¼Œä¸€å…±ä¼šåˆ†ä¸ºè¿™äº›æ¨¡å—:

ä¸“é¢˜ç›®å½•

**é“¾è¡¨ç¯‡**ã€**æ ˆå’Œé˜Ÿåˆ—ç¯‡**ã€**å“ˆå¸Œè¡¨ç¯‡**ã€**äºŒå‰æ ‘ç¯‡**ã€**å­—å…¸æ ‘**ã€**å¹¶æŸ¥é›†**ã€**å¸¸è§æ’åºå’ŒæŸ¥æ‰¾ç®—æ³•**ã€**å›æº¯ç®—æ³•**ã€**åŠ¨æ€è§„åˆ’**ã€**è´ªå¿ƒç®—æ³•**ã€**LRUå’ŒLFU**ã€**å­—ç¬¦ä¸²å’Œæ­£åˆ™ç¯‡**

ä¸€å…±åäºŒä¸ªæ¨¡å—ï¼Œç›¸ä¿¡ä½ ä¼šæœ‰ä¸é”™çš„æ”¶è·ã€‚

### [#](http://47.98.159.95/leetcode-js/nav/#åˆ»æ„ç»ƒä¹ )åˆ»æ„ç»ƒä¹ 

ã€Š**å¼‚ç±»:ä¸ä¸€æ ·çš„æˆåŠŸå¯ç¤ºå½•**ã€‹è¿™æœ¬ä¹¦é‡Œé¢è°ˆåˆ°ä¸€ä¸‡å°æ—¶**åˆ»æ„ç»ƒä¹ **æˆä¸ºé«˜æ‰‹çš„ç†è®ºï¼Œåé¢ä¹Ÿå¾ˆå¤šäººè°ˆåˆ°è¿™ä¸ªç†è®ºï¼Œæˆ‘å‡ å¹´å‰å°±å¬è¯´è¿‡ï¼Œä½†çœŸæ­£ä½“ä¼šåˆ°å®ƒçš„å®é™…æ„ä¹‰å´æ˜¯æœ€è¿‘åœ¨è®­ç»ƒç®—æ³•çš„è¿‡ç¨‹ä¸­ï¼Œè€Œä¸”æ˜¯èµ°äº†å¾ˆå¤šå¼¯è·¯ä¹‹åã€‚å¯è§ç†è®ºåˆ°å®é™…çš„è¿‡ç¨‹æ˜¯å¤šä¹ˆè‰°éš¾ã€‚

æˆ‘æ‰€ç†è§£çš„åˆ»æ„ç»ƒä¹ ï¼Œè¿ç”¨åˆ°ç®—æ³•çš„è®­ç»ƒä¸Šé¢æ¥ï¼Œå°±æ˜¯ä¸¤ç‚¹:

1. ç»å¸¸æ€§åœ°åšä½ ä¸ä¼šåšçš„é¢˜
2. å¤šç§è§£æ³•æ–¹å¼è½®æµè¯•ï¼Œæœ€å¤§åŒ–åœ°æŒ–æ˜ä¸€é“é¢˜çš„ä»·å€¼

**åˆ»æ„ç»ƒä¹ **æœ‰ä¸€ä¸ªé‡è¦çš„è§‚ç‚¹æ˜¯`èµ°å‡ºèˆ’é€‚åœˆ`ã€‚å¯¹äºç®—æ³•ç»ƒä¹ ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä¸ºä»€ä¹ˆå¾ˆå¤šäººè§‰å¾—åˆ·ç®—æ³•æ²¡ç”¨ï¼Œé‚£æ˜¯å› ä¸ºä»–ä»¬æ€»æ˜¯åœ¨åšè‡ªå·±ç†Ÿæ‚‰çš„é¢˜å‹ï¼Œç”¨è‡ªå·±ç†Ÿæ‚‰çš„æ–¹æ³•ï¼Œè¹²åœ¨è‡ªå·±çš„èˆ’é€‚åœˆï¼Œè¿™æ ·åšçš„å†å¤šä¹Ÿæ„ä¹‰ä¸å¤§ï¼Œä½†æ˜¯å¦‚æœæ€»æ˜¯åœ¨åšè‡ªå·±ä¸ç†Ÿç»ƒçš„é¢˜å‹ï¼Œç”¨ä¸ä¸€æ ·çš„æ–¹æ³•ï¼Œå¯¹äºè‡ªå·±æ€ç»´çš„æˆé•¿æ˜¯ç›¸å½“æœ‰å¸®åŠ©çš„ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—æŠŠæ¡ç»å¸¸æ€§åœ°åšä¸ä¼šçš„é¢˜ï¼Œè¿™æ ·åšçš„è¶Šå¤šè¶Šå¥½ï¼Œå½“ç„¶äº†ï¼Œæ—¶é—´æœ‰é™ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è‡ªå·±çš„éœ€è¦æ¥å–èˆã€‚

ä¹‹æ‰€ä»¥æˆ‘ä¼šæŠŠè¿™ä¸ªç³»åˆ—å«åš**ç»ƒä¹ **ï¼Œè€Œä¸æ˜¯åˆ·é¢˜ï¼Œå°±æ˜¯å› ä¸ºç»ƒä¹ çš„æœ¬è´¨æ˜¯`ç»ƒ`,è€Œä¸æ˜¯ç®€å•çš„`AC`å°±å¯ä»¥ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸€é¢˜:

[![img](http://47.98.159.95/leetcode-js/example.jpg)](http://47.98.159.95/leetcode-js/example.jpg)

å¯èƒ½æœ‰ç»éªŒçš„åŒå­¦ï¼Œç”¨é€’å½’çš„æ–¹å¼å¾ˆå®¹æ˜“å°±è§£å‡ºæ¥äº†ã€‚ä½†æ˜¯ï¼Œä½ æœ‰æƒ³è¿‡å¦‚ä½•ç”¨éé€’å½’çš„æ–¹å¼å—ï¼Ÿå¦‚æœèƒ½ç”¨éé€’å½’æ¥æ˜¯å®ç°ä¸€éï¼Œç›¸ä¿¡ç»™è‡ªå·±å¸¦æ¥çš„å¸®åŠ©å’Œæå‡ä¼šæ¯”é€’å½’è§£å¤§å¾—å¤šã€‚

å¦å¤–è¯´ä¸€å¥ï¼Œæœ¬ç³»åˆ—ä¸­æ‰€æœ‰çš„ä»£ç éƒ½æ˜¯åŸåˆ›çš„ï¼Œè€Œä¸”ä¸ä»…ä»…ç»™å‡ºé€’å½’ä»£ç ï¼Œåœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ä¼šç»™å‡ºå¯¹åº”çš„éé€’å½’è§£æ³•ï¼Œæ·±å…¥åœ°æŒ–æ˜ä¸€é“é¢˜çš„æœ€å¤§ä»·å€¼ï¼Œè¾¾åˆ°**ç»ƒä¹ **è€Œä¸æ˜¯åˆ·é¢˜çš„æ•ˆæœã€‚

æœ€åçš„æœ€åï¼Œæˆ‘è¦å¼ºè°ƒçš„æ˜¯: å¯¹äºè¿™ç§ä¿®ç‚¼å†…åŠŸçš„ç»ƒä¹ ï¼Œä»»ä½•è§†é¢‘æˆ–è€…ä¸“æ éƒ½ä»…ä»…åªæ˜¯è¾…åŠ©ä½œç”¨ï¼Œæœ€é‡è¦çš„æ˜¯è¿˜æ˜¯è‡ªå·±çš„åšæŒå’Œç‹¬ç«‹æ€è€ƒï¼Œå¦‚æœä½ é€šè¿‡æˆ‘è¿™ä¸ªç³»åˆ—èƒ½å¤Ÿè®©è‡ªå·±çš„ç®—æ³•èƒ½åŠ›æ›´ä¸Šä¸€å±‚æ¥¼ï¼Œæˆ–è€…è¯´èƒ½å¤Ÿæœ‰æ‰€æ”¶è·ï¼Œä½ åº”è¯¥æ„Ÿè°¢çš„æ˜¯ä½ è‡ªå·±ã€‚

å¦‚æœè§‰å¾—è¿™ä¸ªç³»åˆ—è¿˜ä¸é”™ï¼Œå¸Œæœ›èƒ½è¿›å…¥å³ä¸Šæ–¹æˆ–è€…ç§»åŠ¨ç«¯èœå•æ ä¸­çš„ GitHub åœ°å€ï¼Œç»™è¿™ä¸ªé¡¹ç›®ç‚¹ä¸€ä¸ª starï¼Œéå¸¸æ„Ÿè°¢ï¼



**é“¾è¡¨ç¯‡**



# åè½¬é“¾è¡¨

åè½¬é“¾è¡¨è¿™é‡Œä¸€å…±æœ‰ä¸‰ä¸ªé¢˜ç›®ä¾›å¤§å®¶è®­ç»ƒã€‚åˆ†åˆ«æ˜¯`åŸåœ°å•é“¾è¡¨çš„åè½¬`ã€`ä¸¤ä¸ªä¸€ç»„åè½¬é“¾è¡¨`å’Œ`Kä¸ªä¸€ç»„åè½¬é“¾è¡¨`ï¼Œéš¾åº¦ç”±é˜¶æ¢¯å¼ä¸Šå‡ã€‚

è€Œåœ¨é¢è¯•å½“ä¸­å‡¡æ˜¯é‡åˆ°é“¾è¡¨ï¼Œåè½¬ç±»çš„é¢˜ç›®å‡ºç°çš„é¢‘ç‡ä¹Ÿæ˜¯æ•°ä¸€æ•°äºŒçš„ï¼Œå› æ­¤æŠŠå®ƒå½“åšé“¾è¡¨å¼€ç¯‡çš„è®­ç»ƒç±»å‹ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¼•èµ·è¶³å¤Ÿçš„é‡è§†ğŸ’ªã€‚

## [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#no-1-ç®€å•çš„åè½¬é“¾è¡¨)No.1 ç®€å•çš„åè½¬é“¾è¡¨

åè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚

ç¤ºä¾‹:

```text
è¾“å…¥: 1->2->3->4->5->NULL
è¾“å‡º: 5->4->3->2->1->NULL
```

1
2

æ¥æº: [LeetCode ç¬¬ 206 é¢˜](https://leetcode-cn.com/problems/reverse-linked-list/)

### [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#å¾ªç¯è§£å†³æ–¹æ¡ˆ)å¾ªç¯è§£å†³æ–¹æ¡ˆ

è¿™é“é¢˜æ˜¯é“¾è¡¨ä¸­çš„ç»å…¸é¢˜ç›®ï¼Œå……åˆ†ä½“ç°é“¾è¡¨è¿™ç§æ•°æ®ç»“æ„`æ“ä½œæ€è·¯ç®€å•`, ä½†æ˜¯`å®ç°ä¸Š`å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•çš„ç‰¹ç‚¹ã€‚

é‚£åœ¨å®ç°ä¸Šåº”è¯¥æ³¨æ„ä¸€äº›ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ

ä¿å­˜åç»­èŠ‚ç‚¹ã€‚ä½œä¸ºæ–°æ‰‹æ¥è¯´ï¼Œå¾ˆå®¹æ˜“å°†å½“å‰èŠ‚ç‚¹çš„ `next`æŒ‡é’ˆç›´æ¥æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½†å…¶å®å½“å‰èŠ‚ç‚¹`ä¸‹ä¸€ä¸ªèŠ‚ç‚¹`çš„æŒ‡é’ˆä¹Ÿå°±ä¸¢å¤±äº†ã€‚å› æ­¤ï¼Œéœ€è¦åœ¨éå†çš„è¿‡ç¨‹å½“ä¸­ï¼Œå…ˆå°†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¿å­˜ï¼Œç„¶åå†æ“ä½œ`next`æŒ‡å‘ã€‚

é“¾è¡¨ç»“æ„å£°å®šä¹‰å¦‚ä¸‹:

```js
function ListNode(val) {
  this.val = val;
  this.next = null;
}
```

1
2
3
4

å®ç°å¦‚ä¸‹:

```js
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
let reverseList =  (head) => {
    if (!head)
        return null;
    let pre = null, cur = head;
    while (cur) {
        // å…³é”®: ä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼
        let next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }
    return pre;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17

ç”±äºé€»è¾‘æ¯”è¾ƒç®€å•ï¼Œä»£ç ç›´æ¥ä¸€æ°”å‘µæˆã€‚ä¸è¿‡ä»…ä»…å†™å®Œè¿˜ä¸å¤Ÿï¼Œå¯¹äºé“¾è¡¨é—®é¢˜ï¼Œ`è¾¹ç•Œæ£€æŸ¥`çš„ä¹ æƒ¯èƒ½å¸®åŠ©æˆ‘ä»¬è¿›ä¸€æ­¥ä¿è¯ä»£ç çš„è´¨é‡ã€‚å…·ä½“æ¥è¯´:

- å½“ head èŠ‚ç‚¹ä¸ºç©ºæ—¶ï¼Œæˆ‘ä»¬å·²ç»å¤„ç†ï¼Œé€šè¿‡âœ…
- å½“é“¾è¡¨åªåŒ…å«`ä¸€ä¸ªèŠ‚ç‚¹`æ—¶, æ­¤æ—¶æˆ‘ä»¬å¸Œæœ›ç›´æ¥è¿”å›è¿™ä¸ªèŠ‚ç‚¹ï¼Œå¯¹ä¸Šè¿°ä»£ç è€Œè¨€ï¼Œè¿›å…¥å¾ªç¯å `pre` è¢«èµ‹å€¼ä¸º`cur`ï¼Œä¹Ÿå°±æ˜¯`head`ï¼Œæ²¡æ¯›ç—…ï¼Œé€šè¿‡âœ…

è¿è¡Œåœ¨ LeetCode, æˆåŠŸ AC âœŒ

ä½†ä½œä¸ºç³»ç»Ÿæ€§çš„è®­ç»ƒè€Œè¨€ï¼Œå•å•è®©ç¨‹åºé€šè¿‡æœªå…å¤ªè‰ç‡äº†ï¼Œæˆ‘ä»¬åç»­ä¼šå°½å¯èƒ½åœ°ç”¨ä¸åŒçš„æ–¹å¼å»è§£å†³ç›¸åŒçš„é—®é¢˜ï¼Œè¾¾åˆ°`èä¼šè´¯é€š`çš„æ•ˆæœï¼Œä¹Ÿæ˜¯å¯¹è‡ªå·±æ€è·¯çš„å¼€æ‹“ï¼Œæœ‰æ—¶å€™æˆ–è®¸èƒ½è¾¾åˆ°`æ›´ä¼˜è§£`ã€‚

### [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#é€’å½’è§£å†³æ–¹æ¡ˆ)é€’å½’è§£å†³æ–¹æ¡ˆ

ç”±äºä¹‹å‰çš„æ€è·¯å·²ç»ä»‹ç»å¾—éå¸¸æ¸…æ¥šäº†ï¼Œå› æ­¤åœ¨è¿™æˆ‘ä»¬è´´ä¸Šä»£ç ï¼Œå¤§å®¶å¥½å¥½ä½“ä¼šï¼š

```js
let reverseList = (head) =>{
  let reverse = (pre, cur) => {
    if(!cur) return pre;
    // ä¿å­˜ next èŠ‚ç‚¹
    let next = cur.next;
    cur.next = pre;
    reverse(cur, next);
  }
  return reverse(null, head);
}
```

1
2
3
4
5
6
7
8
9
10

## [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#no-2-åŒºé—´åè½¬)No.2 åŒºé—´åè½¬

åè½¬ä»ä½ç½® m åˆ° n çš„é“¾è¡¨ã€‚è¯·ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®Œæˆåè½¬ã€‚

**è¯´æ˜:** 1 â‰¤ m â‰¤ n â‰¤ é“¾è¡¨é•¿åº¦ã€‚

**ç¤ºä¾‹:**

```text
è¾“å…¥: 1->2->3->4->5->NULL, m = 2, n = 4
è¾“å‡º: 1->4->3->2->5->NULL
```

1
2

æ¥æº: [LeetCode ç¬¬ 92 é¢˜](https://leetcode-cn.com/problems/reverse-linked-list-ii/)

### [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#æ€è·¯)æ€è·¯

è¿™ä¸€é¢˜ç›¸æ¯”ä¸Šä¸€ä¸ªæ•´ä¸ªé“¾è¡¨åè½¬çš„é¢˜ï¼Œå…¶å®æ˜¯`æ¢æ±¤ä¸æ¢è¯`ã€‚æˆ‘ä»¬ä¾ç„¶æœ‰ä¸¤ç§ç±»å‹çš„è§£æ³•ï¼š**å¾ªç¯è§£æ³•**å’Œ**é€’å½’è§£æ³•**ã€‚

éœ€è¦æ³¨æ„çš„é—®é¢˜å°±æ˜¯`å‰åèŠ‚ç‚¹`çš„ä¿å­˜(æˆ–è€…è®°å½•)ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿçœ‹è¿™å¼ å›¾ä½ å°±æ˜ç™½äº†ã€‚

[![img](http://47.98.159.95/leetcode-js/linkedlist/001.jpg)](http://47.98.159.95/leetcode-js/linkedlist/001.jpg)

å…³äºå‰èŠ‚ç‚¹å’ŒåèŠ‚ç‚¹çš„å®šä¹‰ï¼Œå¤§å®¶åœ¨å›¾ä¸Šåº”è¯¥èƒ½çœ‹çš„æ¯”è¾ƒæ¸…æ¥šäº†ï¼Œåé¢ä¼šç»å¸¸ç”¨åˆ°ã€‚

åè½¬æ“ä½œä¸Šä¸€é¢˜å·²ç»æ‹†è§£è¿‡ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯åè½¬åçš„å·¥ä½œï¼Œé‚£ä¹ˆå¯¹äºæ•´ä¸ªåŒºé—´åè½¬åçš„å·¥ä½œï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ª`ç§»èŠ±æ¥æœ¨`çš„è¿‡ç¨‹ï¼Œé¦–å…ˆå°†**å‰èŠ‚ç‚¹**çš„ next æŒ‡å‘åŒºé—´ç»ˆç‚¹ï¼Œç„¶åå°†åŒºé—´èµ·ç‚¹çš„ next æŒ‡å‘**åèŠ‚ç‚¹**ã€‚å› æ­¤è¿™ä¸€é¢˜ä¸­æœ‰å››ä¸ªéœ€è¦é‡è§†çš„èŠ‚ç‚¹: `å‰èŠ‚ç‚¹`ã€`åèŠ‚ç‚¹`ã€`åŒºé—´èµ·ç‚¹`å’Œ`åŒºé—´ç»ˆç‚¹`ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å®é™…çš„ç¼–ç æ“ä½œã€‚

### [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#å¾ªç¯è§£æ³•)å¾ªç¯è§£æ³•

```js
/**
 * @param {ListNode} head
 * @param {number} m
 * @param {number} n
 * @return {ListNode}
 */
var reverseBetween = function(head, m, n) {
    let count = n - m;
    let p = dummyHead = new ListNode();
    let pre, cur, front, tail;
    p.next = head;
    for(let i = 0; i < m - 1; i ++) {
        p = p.next;
    }
    // ä¿å­˜å‰èŠ‚ç‚¹
    front = p;
    // åŒæ—¶ä¿å­˜åŒºé—´é¦–èŠ‚ç‚¹
    pre = tail = p.next;
    cur = pre.next;
    // åŒºé—´åè½¬
    for(let i = 0; i < count; i++) {
        let next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }
    // å‰èŠ‚ç‚¹çš„ next æŒ‡å‘åŒºé—´æœ«å°¾
    front.next = pre;
    // åŒºé—´é¦–èŠ‚ç‚¹çš„ next æŒ‡å‘åèŠ‚ç‚¹(å¾ªç¯å®Œåçš„curå°±æ˜¯åŒºé—´åé¢ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³åèŠ‚ç‚¹)
    tail.next = cur;
    return dummyHead.next;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32

### [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#é€’å½’è§£æ³•)é€’å½’è§£æ³•

å¯¹äºé€’å½’è§£æ³•ï¼Œå”¯ä¸€çš„ä¸åŒå°±åœ¨äºå¯¹äºåŒºé—´çš„å¤„ç†ï¼Œé‡‡ç”¨é€’å½’ç¨‹åºè¿›è¡Œå¤„ç†ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥è¶ç€å¤ä¹ ä¸€ä¸‹é€’å½’åè½¬çš„å®ç°ã€‚

```js
var reverseBetween = function(head, m, n) {
  // é€’å½’åè½¬å‡½æ•°
  let reverse = (pre, cur) => {
    if(!cur) return pre;
    // ä¿å­˜ next èŠ‚ç‚¹
    let next = cur.next;
    cur.next = pre;
    return reverse(cur, next);
  }
  let p = dummyHead = new ListNode();
  dummyHead.next = head;
  let start, end; //åŒºé—´é¦–å°¾èŠ‚ç‚¹
  let front, tail; //å‰èŠ‚ç‚¹å’ŒåèŠ‚ç‚¹
  for(let i = 0; i < m - 1; i++) {
    p = p.next;
  }
  front = p; //ä¿å­˜å‰èŠ‚ç‚¹
  start = front.next;
  for(let i = m - 1; i < n; i++) {
    p = p.next;
  }
  end = p;
  tail = end.next; //ä¿å­˜åèŠ‚ç‚¹
  end.next = null;
  // å¼€å§‹ç©¿é’ˆå¼•çº¿å•¦ï¼Œå‰èŠ‚ç‚¹æŒ‡å‘åŒºé—´é¦–ï¼ŒåŒºé—´é¦–æŒ‡å‘åèŠ‚ç‚¹
  front.next = reverse(null, start);
  start.next = tail;
  return dummyHead.next;
}
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29

## [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#no-3-ä¸¤ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨)No.3 ä¸¤ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚

ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚

æ¥æº: [LeetCode ç¬¬ 24 é¢˜](https://leetcode-cn.com/problems/swap-nodes-in-pairs/)

**ç¤ºä¾‹:**

```text
ç»™å®š 1->2->3->4, ä½ åº”è¯¥è¿”å› 2->1->4->3.
```

1

### [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#æ€è·¯-2)æ€è·¯

å¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬é¦–å…ˆå»ºç«‹ä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹(dummyHead)ï¼Œè¾…åŠ©æˆ‘ä»¬åˆ†æã€‚ [![img](http://47.98.159.95/leetcode-js/linkedlist/002.jpg)](http://47.98.159.95/leetcode-js/linkedlist/002.jpg)

é¦–å…ˆè®© p å¤„åœ¨ dummyHead çš„ä½ç½®ï¼Œè®°å½•ä¸‹ p.next å’Œ p.next.next çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ node1 å’Œ node2ã€‚

éšåè®© **node1.next = node2.next**, æ•ˆæœ:

[![img](http://47.98.159.95/leetcode-js/linkedlist/003.jpg)](http://47.98.159.95/leetcode-js/linkedlist/003.jpg)

ç„¶åè®© **node2.next = node1**, æ•ˆæœ:

[![img](http://47.98.159.95/leetcode-js/linkedlist/004.jpg)](http://47.98.159.95/leetcode-js/linkedlist/004.jpg)

æœ€åï¼Œ**dummyHead.next = node2**ï¼Œæœ¬æ¬¡ç¿»è½¬å®Œæˆã€‚åŒæ—¶ p æŒ‡é’ˆæŒ‡å‘node1, æ•ˆæœå¦‚ä¸‹ï¼š

[![img](http://47.98.159.95/leetcode-js/linkedlist/005.jpg)](http://47.98.159.95/leetcode-js/linkedlist/005.jpg)

ä¾æ­¤å¾ªç¯ï¼Œå¦‚æœ `p.next` æˆ–è€… `p.next.next` ä¸ºç©ºï¼Œä¹Ÿå°±æ˜¯`æ‰¾ä¸åˆ°æ–°çš„ä¸€ç»„èŠ‚ç‚¹`äº†ï¼Œå¾ªç¯ç»“æŸã€‚

### [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#å¾ªç¯è§£å†³)å¾ªç¯è§£å†³

æ€è·¯æ¸…æ¥šäº†ï¼Œå…¶å®å®ç°è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼Œä»£ç å¦‚ä¸‹:

```js
var swapPairs = function(head) {
    if(head == null || head.next == null) 
        return head;
    let dummyHead = p = new ListNode();
    let node1, node2;
    dummyHead.next = head;
    while((node1 = p.next) && (node2 = p.next.next)) {
        node1.next = node2.next;
        node2.next = node1;
        p.next = node2;
        p = node1;
    }
    return dummyHead.next;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14

### [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#é€’å½’æ–¹å¼)é€’å½’æ–¹å¼

```js
var swapPairs = function(head) {
    if(head == null || head.next == null)
        return head;
    let node1 = head, node2 = head.next;
    node1.next = swapPairs(node2.next);
    node2.next = node1;
    return node2;
};
```

1
2
3
4
5
6
7
8

åˆ©ç”¨é€’å½’æ–¹å¼ä¹‹åï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰ä»£ç ç‰¹åˆ«ç®€æ´ï¼ŸğŸ˜ƒğŸ˜ƒğŸ˜ƒ

å¸Œæœ›ä½ èƒ½å¥½å¥½ä½“ä¼šä¸€ä¸‹é€’å½’è°ƒç”¨çš„è¿‡ç¨‹ï¼Œç›¸ä¿¡ç†è§£ä¹‹åå¯¹è‡ªå·±æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æå‡ã€‚

## [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#no-4-kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨)No.4 Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨

ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ k ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ç¿»è½¬åçš„é“¾è¡¨ã€‚

k æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚

å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯ k çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚

ç¤ºä¾‹ :

```text
ç»™å®šè¿™ä¸ªé“¾è¡¨ï¼š1->2->3->4->5
å½“ k = 2 æ—¶ï¼Œåº”å½“è¿”å›: 2->1->4->3->5
å½“ k = 3 æ—¶ï¼Œåº”å½“è¿”å›: 3->2->1->4->5
```

1
2
3

è¯´æ˜ :

- ä½ çš„ç®—æ³•åªèƒ½ä½¿ç”¨å¸¸æ•°çš„é¢å¤–ç©ºé—´ã€‚
- ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚

æ¥æº: [LeetCode ç¬¬ 25 é¢˜](https://leetcode-cn.com/problems/reverse-nodes-in-k-group/)

### [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#æ€è·¯-3)æ€è·¯

æ€è·¯ç±»ä¼¼**No.3**ä¸­çš„ä¸¤ä¸ªä¸€ç»„ç¿»è½¬ã€‚å”¯ä¸€çš„ä¸åŒåœ¨äºä¸¤ä¸ªä¸€ç»„çš„æƒ…å†µä¸‹æ¯ä¸€ç»„åªéœ€è¦åè½¬ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œè€Œåœ¨ K ä¸ªä¸€ç»„çš„æƒ…å†µä¸‹å¯¹åº”çš„æ“ä½œæ˜¯å°† `K ä¸ªå…ƒç´ `çš„é“¾è¡¨è¿›è¡Œåè½¬ã€‚

### [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#é€’å½’è§£æ³•-2)é€’å½’è§£æ³•

è¿™ä¸€é¢˜æˆ‘è§‰å¾—é€’å½’çš„è§£æ³•æ›´å®¹æ˜“ç†è§£ï¼Œå› æ­¤ï¼Œå…ˆè´´ä¸Šé€’å½’æ–¹æ³•çš„ä»£ç ã€‚

æé†’

ä»¥ä¸‹ä»£ç çš„æ³¨é‡Šä¸­`é¦–èŠ‚ç‚¹`ã€`å°¾ç»“ç‚¹`ç­‰æ¦‚å¿µéƒ½æ˜¯é’ˆå¯¹åè½¬å‰çš„é“¾è¡¨è€Œè¨€çš„ã€‚

```js
/**
 * @param {ListNode} head
 * @param {number} k
 * @return {ListNode}
 */
var reverseKGroup = function(head, k) {
    let pre = null, cur = head;
    let p = head;
    // ä¸‹é¢çš„å¾ªç¯ç”¨æ¥æ£€æŸ¥åé¢çš„å…ƒç´ æ˜¯å¦èƒ½ç»„æˆä¸€ç»„
    for(let i = 0; i < k; i++) {
        if(p == null) return head;
        p = p.next;
    }
    for(let i = 0; i < k; i++){
        let next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }
    // preä¸ºæœ¬ç»„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œcurä¸ºä¸‹ä¸€ç»„çš„èµ·ç‚¹
    head.next = reverseKGroup(cur, k);
    return pre;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23

### [#](http://47.98.159.95/leetcode-js/linkedlist/001.html#å¾ªç¯è§£æ³•-2)å¾ªç¯è§£æ³•

é‡ç‚¹éƒ½æ”¾åœ¨æ³¨é‡Šé‡Œé¢äº†ã€‚

```js
var reverseKGroup = function(head, k) {
    let count = 0;
    // çœ‹æ˜¯å¦èƒ½æ„æˆä¸€ç»„ï¼ŒåŒæ—¶ç»Ÿè®¡é“¾è¡¨å…ƒç´ ä¸ªæ•°
    for(let p = head; p != null; p = p.next) {
        if(p == null && i < k) return head;
        count++;
    }
    let loopCount = Math.floor(count / k);
    let p = dummyHead = new ListNode();
    dummyHead.next = head;
    // åˆ†æˆäº† loopCount ç»„ï¼Œå¯¹æ¯ä¸€ä¸ªç»„è¿›è¡Œåè½¬
    for(let i = 0; i < loopCount; i++) {
        let pre = null, cur = p.next;
        for(let j = 0; j < k; j++) {
            let next = cur.next;
            cur.next = pre;
            pre = cur;
            cur = next;
        }
        // å½“å‰ pre ä¸ºè¯¥ç»„çš„å°¾ç»“ç‚¹ï¼Œcur ä¸ºä¸‹ä¸€ç»„é¦–èŠ‚ç‚¹
        let start = p.next;// start æ˜¯è¯¥ç»„é¦–èŠ‚ç‚¹
        // å¼€å§‹ç©¿é’ˆå¼•çº¿ï¼æ€è·¯å’Œ2ä¸ªä¸€ç»„çš„æƒ…å†µä¸€æ¨¡ä¸€æ ·
        p.next = pre;
        start.next = cur;
        p = start;
    }
    return dummyHead.next;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28



# ç¯å½¢é“¾è¡¨

## [#](http://47.98.159.95/leetcode-js/linkedlist/002.html#no-1-å¦‚ä½•æ£€æµ‹é“¾è¡¨å½¢æˆç¯ï¼Ÿ)No.1 å¦‚ä½•æ£€æµ‹é“¾è¡¨å½¢æˆç¯ï¼Ÿ

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦å½¢æˆç¯ã€‚

### [#](http://47.98.159.95/leetcode-js/linkedlist/002.html#æ€è·¯)æ€è·¯

æ€è·¯ä¸€: å¾ªç¯ä¸€éï¼Œç”¨ Set æ•°æ®ç»“æ„ä¿å­˜èŠ‚ç‚¹ï¼Œåˆ©ç”¨èŠ‚ç‚¹çš„å†…å­˜åœ°å€æ¥è¿›è¡Œåˆ¤é‡ï¼Œå¦‚æœåŒæ ·çš„èŠ‚ç‚¹èµ°è¿‡ä¸¤æ¬¡ï¼Œåˆ™è¡¨æ˜å·²ç»å½¢æˆäº†ç¯ã€‚

æ€è·¯äºŒ: åˆ©ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ï¼Œå¦‚æœ`ä¸¤è€…ç›¸é‡`ï¼Œåˆ™è¡¨æ˜å·²ç»å½¢æˆäº†ç¯ã€‚

å¯èƒ½ä½ ä¼šçº³é—·ï¼Œä¸ºä»€ä¹ˆæ€è·¯äºŒç”¨ä¸¤ä¸ªæŒ‡é’ˆåœ¨ç¯ä¸­ä¸€å®šä¼šç›¸é‡å‘¢ï¼Ÿ

å…¶å®å¾ˆç®€å•ï¼Œå¦‚æœæœ‰ç¯ï¼Œä¸¤è€…ä¸€å®šåŒæ—¶èµ°åˆ°ç¯ä¸­ï¼Œé‚£ä¹ˆåœ¨ç¯ä¸­ï¼Œ**é€‰æ…¢æŒ‡é’ˆä¸ºå‚è€ƒç³»**ï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡`ç›¸å¯¹å‚è€ƒç³»`å‘å‰èµ°ä¸€æ­¥ï¼Œç»ˆç©¶ä¼šç»•å›åŸç‚¹ï¼Œä¹Ÿå°±æ˜¯å›åˆ°æ…¢æŒ‡é’ˆçš„ä½ç½®ï¼Œä»è€Œè®©ä¸¤è€…ç›¸é‡ã€‚å¦‚æœæ²¡æœ‰ç¯ï¼Œåˆ™ä¸¤è€…çš„ç›¸å¯¹è·ç¦»è¶Šæ¥è¶Šè¿œï¼Œæ°¸è¿œä¸ä¼šç›¸é‡ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ç¼–ç¨‹å®ç°ã€‚

### [#](http://47.98.159.95/leetcode-js/linkedlist/002.html#æ–¹æ³•ä¸€-set-åˆ¤é‡)æ–¹æ³•ä¸€: Set åˆ¤é‡

```js
/**
 * @param {ListNode} head
 * @return {boolean}
 */
var hasCycle = (head) => {
    let set = new Set();
    let p = head;
    while(p) {
        // åŒä¸€ä¸ªèŠ‚ç‚¹å†æ¬¡ç¢°åˆ°ï¼Œè¡¨ç¤ºæœ‰ç¯
        if(set.has(p)) return true;
        set.add(p);
        p = p.next;
    }
    return false;
}
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15

### [#](http://47.98.159.95/leetcode-js/linkedlist/002.html#æ–¹æ³•äºŒ-å¿«æ…¢æŒ‡é’ˆ)æ–¹æ³•äºŒ: å¿«æ…¢æŒ‡é’ˆ

```js
var hasCycle = function(head) {
    let dummyHead = new ListNode();
    dummyHead.next = head;
    let fast = slow = dummyHead;
    // é›¶ä¸ªç»“ç‚¹æˆ–è€…ä¸€ä¸ªç»“ç‚¹ï¼Œè‚¯å®šæ— ç¯
    if(fast.next == null || fast.next.next == null) 
        return false;
    while(fast && fast.next) {
        fast = fast.next.next;
        slow = slow.next;
        // ä¸¤è€…ç›¸é‡äº†
        if(fast == slow) {
            return true;
        }
    } 
    return false;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17

## [#](http://47.98.159.95/leetcode-js/linkedlist/002.html#no-2-å¦‚ä½•æ‰¾åˆ°ç¯çš„èµ·ç‚¹)No.2 å¦‚ä½•æ‰¾åˆ°ç¯çš„èµ·ç‚¹

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚

**è¯´æ˜ï¼š**ä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚

### [#](http://47.98.159.95/leetcode-js/linkedlist/002.html#æ€è·¯åˆ†æ)æ€è·¯åˆ†æ

åˆšåˆšå·²ç»åˆ¤æ–­äº†å¦‚ä½•åˆ¤æ–­å‡ºç°ç¯ï¼Œé‚£å¦‚ä½•æ‰¾åˆ°ç¯çš„èŠ‚ç‚¹å‘¢ï¼Ÿæˆ‘ä»¬æ¥åˆ†æä¸€æ³¢ã€‚

[![img](http://47.98.159.95/leetcode-js/linkedlist/006.jpg)](http://47.98.159.95/leetcode-js/linkedlist/006.jpg)

çœ‹ä¸Šå»æ¯”è¾ƒç¹çï¼Œæˆ‘ä»¬æŠŠå®ƒåšè¿›ä¸€æ­¥çš„æŠ½è±¡: [![img](http://47.98.159.95/leetcode-js/linkedlist/007.jpg)](http://47.98.159.95/leetcode-js/linkedlist/007.jpg)

è®¾å¿«æ…¢æŒ‡é’ˆèµ°äº†`x`ç§’ï¼Œæ…¢æŒ‡é’ˆä¸€ç§’èµ°ä¸€æ¬¡ã€‚

å¯¹å¿«æŒ‡é’ˆï¼Œæœ‰: **2x - L = m \* S + Y** -----â‘ 

å¯¹æ…¢æŒ‡é’ˆï¼Œæœ‰: **x - L = n \* S + Y** -----â‘¡

å…¶ä¸­ï¼Œmã€n å‡ä¸ºè‡ªç„¶æ•°ã€‚

â‘  * 2 - â‘¡ å¾—:

**L = (m - n) \* S - Y**-----â‘¢

å¥½ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç­‰å¼ã€‚æˆ‘ä»¬ç°åœ¨å‡è®¾æœ‰ä¸€ä¸ªæ–°çš„æŒ‡é’ˆåœ¨ L æ®µçš„æœ€å·¦ç«¯ï¼Œæ…¢æŒ‡é’ˆç°åœ¨è¿˜åœ¨ç›¸é‡å¤„ã€‚

è®©`æ–°æŒ‡é’ˆ`å’Œ`æ…¢æŒ‡é’ˆ`éƒ½æ¯æ¬¡èµ°ä¸€æ­¥ï¼Œé‚£ä¹ˆï¼Œå½“`æ–°æŒ‡é’ˆ`èµ°äº† L æ­¥ä¹‹å**åˆ°è¾¾ç¯èµ·ç‚¹**ï¼Œè€Œä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬çœ‹çœ‹`æ…¢æŒ‡é’ˆæƒ…å†µå¦‚ä½•`ã€‚

ç”±â‘¢å¼ï¼Œæ…¢æŒ‡é’ˆèµ°äº†`(m - n) * S - Y`ä¸ªå•ä½ï¼Œä»¥ç¯èµ·ç‚¹ä¸ºå‚ç…§ç‰©ï¼Œç›¸é‡æ—¶çš„ä½ç½®ä¸º Yï¼Œè€Œç°åœ¨ç”±`Y + (m - n) * S - Y`å³`(m - n) * S`ï¼Œå¾—çŸ¥æ…¢æŒ‡é’ˆå®é™…ä¸Šå‚ç…§ç¯èµ·ç‚¹ï¼Œèµ°äº†æ•´æ•´(m - n)åœˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ**æ…¢æŒ‡é’ˆæ­¤æ—¶ä¹Ÿåˆ°è¾¾äº†ç¯èµ·ç‚¹**ã€‚

ç»“è®º

ç°åœ¨çš„è§£æ³•å°±å¾ˆæ¸…æ™°äº†ï¼Œå½“å¿«æ…¢æŒ‡é’ˆç›¸é‡ä¹‹åï¼Œè®©æ–°æŒ‡é’ˆä»å¤´å‡ºå‘ï¼Œå’Œæ…¢æŒ‡é’ˆåŒæ—¶å‰è¿›ï¼Œä¸”æ¯æ¬¡å‰è¿›ä¸€æ­¥ï¼Œä¸¤è€…ç›¸é‡çš„åœ°æ–¹ï¼Œå°±æ˜¯**ç¯èµ·ç‚¹**ã€‚

### [#](http://47.98.159.95/leetcode-js/linkedlist/002.html#ç¼–ç¨‹å®ç°)ç¼–ç¨‹å®ç°

æ‡‚å¾—åŸç†ä¹‹åï¼Œå®ç°èµ·æ¥å°±å®¹æ˜“å¾ˆå¤šäº†ã€‚

```js
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var detectCycle = function(head) {
    let dummyHead = new ListNode();
    dummyHead.next = head;
    let fast = slow = dummyHead;
    // é›¶ä¸ªç»“ç‚¹æˆ–è€…ä¸€ä¸ªç»“ç‚¹ï¼Œè‚¯å®šæ— ç¯
    if(fast.next == null || fast.next.next == null) 
        return null;
    while(fast && fast.next) {
        fast = fast.next.next;
        slow = slow.next;
        // ä¸¤è€…ç›¸é‡äº†
        if(fast == slow) {
           let p = dummyHead;
           while(p != slow) {
               p = p.next;
               slow = slow.next;
           }
           return p;
        }
    } 
    return null;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26





# é“¾è¡¨åˆå¹¶

## [#](http://47.98.159.95/leetcode-js/linkedlist/003.html#no-1-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨)No.1 åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨

å°†ä¸¤ä¸ªæœ‰åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„æœ‰åºé“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚

**ç¤ºä¾‹:**

```text
è¾“å…¥ï¼š1->2->4, 1->3->4
è¾“å‡ºï¼š1->1->2->3->4->4
```

1
2

æ¥æº: [LeetCodeç¬¬21é¢˜](https://leetcode-cn.com/problems/merge-two-sorted-lists/)

### [#](http://47.98.159.95/leetcode-js/linkedlist/003.html#é€’å½’è§£æ³•)é€’å½’è§£æ³•

é€’å½’è§£æ³•æ›´å®¹æ˜“ç†è§£ï¼Œæˆ‘ä»¬å…ˆç”¨é€’å½’æ¥åšä¸€ä¸‹:

```js
/**
 * @param {ListNode} l1
 * @param {ListNode} l2
 * @return {ListNode}
 */
var mergeTwoLists = function(l1, l2) {
    const merge = (l1, l2) => {
        if(l1 == null) return l2;
        if(l2 == null) return l1;
        if(l1.val > l2.val) {
            l2.next = merge(l1, l2.next);
            return l2;
        }else {
            l1.next = merge(l1.next, l2);
            return l1;
        }
    }
    return merge(l1, l2);
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19

### [#](http://47.98.159.95/leetcode-js/linkedlist/003.html#å¾ªç¯è§£æ³•)å¾ªç¯è§£æ³•

```js
var mergeTwoLists = function(l1, l2) {
    if(l1 == null) return l2;
    if(l2 == null) return l1;
    let p = dummyHead = new ListNode();
    let p1 = l1, p2 = l2;
    while(p1 && p2) {
        if(p1.val > p2.val) {
            p.next = p2;
            p = p.next;
            p2 = p2.next;
        }else {
            p.next = p1;
            p = p.next;
            p1 = p1.next;
        }
    }
    // å¾ªç¯å®ŒæˆååŠ¡å¿…æ£€æŸ¥å‰©ä¸‹çš„éƒ¨åˆ†
    if(p1) p.next = p1;
    else p.next = p2;
    return dummyHead.next;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21

## [#](http://47.98.159.95/leetcode-js/linkedlist/003.html#no-2-åˆå¹¶-k-ä¸ªæœ‰åºé“¾è¡¨)No.2 åˆå¹¶ K ä¸ªæœ‰åºé“¾è¡¨

åˆå¹¶ k ä¸ªæ’åºé“¾è¡¨ï¼Œè¿”å›åˆå¹¶åçš„æ’åºé“¾è¡¨ã€‚è¯·åˆ†æå’Œæè¿°ç®—æ³•çš„å¤æ‚åº¦ã€‚

**ç¤ºä¾‹:**

```text
è¾“å…¥:
[
  1->4->5,
  1->3->4,
  2->6
]
è¾“å‡º: 1->1->2->3->4->4->5->6
```

1
2
3
4
5
6
7

æ¥æº: [LeetCodeç¬¬23é¢˜](https://leetcode-cn.com/problems/merge-k-sorted-lists/)

### [#](http://47.98.159.95/leetcode-js/linkedlist/003.html#è‡ªä¸Šè€Œä¸‹-é€’å½’-å®ç°)è‡ªä¸Šè€Œä¸‹(é€’å½’)å®ç°

```js
/**
 * @param {ListNode[]} lists
 * @return {ListNode}
 */
var mergeKLists = function(lists) {
    // ä¸Šé¢å·²ç»å®ç°
    var mergeTwoLists = function(l1, l2) {/*ä¸Šé¢å·²ç»å®ç°*/};
    const _mergeLists = (lists, start, end) => {
        if(end - start < 0) return null;
        if(end - start == 0)return lists[end];
        let mid = Math.floor(start + (end - start) / 2);
        return mergeTwoList(_mergeLists(lists, start, mid), _mergeLists(lists, mid + 1, end));
    }
    return _mergeLists(lists, 0, lists.length - 1);
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15

### [#](http://47.98.159.95/leetcode-js/linkedlist/003.html#è‡ªä¸‹è€Œä¸Šå®ç°)è‡ªä¸‹è€Œä¸Šå®ç°

åœ¨è¿™é‡Œéœ€è¦æé†’å¤§å®¶çš„æ˜¯ï¼Œåœ¨è‡ªä¸‹è€Œä¸Šçš„å®ç°æ–¹å¼ä¸­ï¼Œæˆ‘ä¸ºæ¯ä¸€ä¸ªé“¾è¡¨ç»‘å®šäº†ä¸€ä¸ªè™šæ‹Ÿå¤´æŒ‡é’ˆ(dummyHead)ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿ

è¿™æ˜¯ä¸ºäº†æ–¹ä¾¿é“¾è¡¨çš„åˆå¹¶ï¼Œæ¯”å¦‚ l1 å’Œ l2 åˆå¹¶ä¹‹åï¼Œåˆå¹¶åé“¾è¡¨çš„å¤´æŒ‡é’ˆå°±ç›´æ¥æ˜¯ l1 çš„ dummyHead.next å€¼ï¼Œç­‰äºè¯´ä¸¤ä¸ªé“¾è¡¨éƒ½åˆå¹¶åˆ°äº† l1 å½“ä¸­ï¼Œæ–¹ä¾¿äº†åç»­çš„åˆå¹¶æ“ä½œã€‚

```js
var mergeKLists = function(lists) {
    var mergeTwoLists = function(l1, l2) {/*ä¸Šé¢å·²ç»å®ç°*/};
    // è¾¹ç•Œæƒ…å†µ
    if(!lists || !lists.length) return null;
    // è™šæ‹Ÿå¤´æŒ‡é’ˆé›†åˆ
    let dummyHeads = [];
    // åˆå§‹åŒ–è™šæ‹Ÿå¤´æŒ‡é’ˆ
    for(let i = 0; i < lists.length; i++) {
        let node = new ListNode();
        node.next = lists[i];
        dummyHeads[i] = node;
    }
    // è‡ªåº•å‘ä¸Šè¿›è¡Œmerge
    for(let size = 1; size < lists.length; size += size){
        for(let i = 0; i + size < lists.length;i += 2 * size) {
            dummyHeads[i].next = mergeTwoLists(dummyHeads[i].next, dummyHeads[i + size].next);
        }
    }
    return dummyHeads[0].next;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20

å¤šä¸ªé“¾è¡¨çš„åˆå¹¶åˆ°è¿™é‡Œå°±å®ç°å®Œæˆäº†ï¼Œåœ¨è¿™é‡Œé¡ºä¾¿å‘Šè¯‰ä½ è¿™ç§å½’å¹¶çš„æ–¹å¼åŒæ—¶ä¹Ÿæ˜¯**å¯¹é“¾è¡¨è¿›è¡Œå½’å¹¶æ’åºçš„æ ¸å¿ƒä»£ç **ã€‚å¸Œæœ›ä½ èƒ½å¥½å¥½ä½“ä¼š**è‡ªä¸Šè€Œä¸‹**å’Œ**è‡ªä¸‹è€Œä¸Š**ä¸¤ç§ä¸åŒçš„å®ç°ç»†èŠ‚ï¼Œç›¸ä¿¡å¯¹ä½ çš„ç¼–ç¨‹å†…åŠŸæ˜¯ä¸€ä¸ªä¸é”™çš„æå‡ã€‚

â† [ç¯å½¢é“¾è¡¨](http://47.98.159.95/leetcode-js/linkedlist/002.html)





# æ±‚é“¾è¡¨ä¸­é—´èŠ‚ç‚¹

## [#](http://47.98.159.95/leetcode-js/linkedlist/004.html#åˆ¤æ–­å›æ–‡é“¾è¡¨)åˆ¤æ–­å›æ–‡é“¾è¡¨

è¯·åˆ¤æ–­ä¸€ä¸ªå•é“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚

**ç¤ºä¾‹1:**

```text
è¾“å…¥: 1->2
è¾“å‡º: false
```

1
2

**ç¤ºä¾‹2:**

```text
è¾“å…¥: 1->2->2->1
è¾“å‡º: true
```

1
2

ä½ èƒ½å¦ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ O(1) ç©ºé—´å¤æ‚åº¦è§£å†³æ­¤é¢˜ï¼Ÿ

æ¥æº: [LeetCodeç¬¬234é¢˜](https://leetcode-cn.com/problems/palindrome-linked-list/)

### [#](http://47.98.159.95/leetcode-js/linkedlist/004.html#æ€è·¯åˆ†æ)æ€è·¯åˆ†æ

è¿™ä¸€é¢˜å¦‚æœä¸è€ƒè™‘æ€§èƒ½çš„é™åˆ¶ï¼Œå…¶å®æ˜¯éå¸¸ç®€å•çš„ã€‚ä½†è€ƒè™‘åˆ° O(n) æ—¶é—´å¤æ‚åº¦å’Œ O(1) ç©ºé—´å¤æ‚åº¦ï¼Œææ€•å°±å€¼å¾—åœä¸‹æ¥å¥½å¥½æƒ³æƒ³äº†ã€‚

é¢˜ç›®çš„è¦æ±‚æ˜¯å•é“¾è¡¨ï¼Œæ²¡æœ‰åŠæ³•è®¿é—®å‰é¢çš„èŠ‚ç‚¹ï¼Œé‚£æˆ‘ä»¬åªå¾—å¦è¾Ÿè¹Šå¾„:

æ‰¾åˆ°é“¾è¡¨ä¸­ç‚¹ï¼Œç„¶åå°†ååŠéƒ¨åˆ†åè½¬ï¼Œå°±å¯ä»¥ä¾æ¬¡æ¯”è¾ƒå¾—å‡ºç»“è®ºäº†ã€‚ä¸‹é¢æˆ‘ä»¬æ¥å®ç°ä¸€æ³¢ã€‚

### [#](http://47.98.159.95/leetcode-js/linkedlist/004.html#ä»£ç å®ç°)ä»£ç å®ç°

å…¶å®å…³é”®éƒ¨åˆ†çš„ä»£ç å°±æ˜¯æ‰¾ä¸­ç‚¹äº†ã€‚å…ˆäº®å‰‘:

```js
  let dummyHead = slow = fast = new ListNode();
  dummyHead.next = head;
  // æ³¨æ„æ³¨æ„ï¼Œæ¥æ‰¾ä¸­ç‚¹äº†
  while(fast && fast.next) {
      slow = slow.next;
      fast = fast.next.next;
  }
```

1
2
3
4
5
6
7

ä½ å¯èƒ½ä¼šçº³é—·äº†ï¼Œä¸ºä»€ä¹ˆè¾¹ç•Œè¦è®¾æˆè¿™æ ·ï¼Ÿ

æˆ‘ä»¬ä¸å¦¨æ¥åˆ†æä¸€ä¸‹ï¼Œåˆ†é“¾è¡¨èŠ‚ç‚¹ä¸ªæ•°ä¸º`å¥‡æ•°`å’Œ`å¶æ•°`çš„æ—¶å€™åˆ†åˆ«è®¨è®ºã€‚

- å½“é“¾è¡¨èŠ‚ç‚¹ä¸ªæ•°ä¸ºå¥‡æ•°

[![img](http://47.98.159.95/leetcode-js/linkedlist/008.jpg)](http://47.98.159.95/leetcode-js/linkedlist/008.jpg)

è¯•ç€æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œ fast ä¸ºç©ºçš„æ—¶å€™ï¼Œåœæ­¢å¾ªç¯, çŠ¶æ€å¦‚ä¸‹:

[![img](http://47.98.159.95/leetcode-js/linkedlist/009.jpg)](http://47.98.159.95/leetcode-js/linkedlist/009.jpg)

- å½“é“¾è¡¨èŠ‚ç‚¹ä¸ªæ•°ä¸ºå¶æ•°

æ¨¡æ‹Ÿèµ°ä¸€éï¼Œå½“ fast.next ä¸ºç©ºçš„æ—¶å€™ï¼Œåœæ­¢å¾ªç¯ï¼ŒçŠ¶æ€å¦‚ä¸‹:[![img](http://47.98.159.95/leetcode-js/linkedlist/010.jpg)](http://47.98.159.95/leetcode-js/linkedlist/010.jpg)

[![img](http://47.98.159.95/leetcode-js/linkedlist/011.jpg)](http://47.98.159.95/leetcode-js/linkedlist/011.jpg)

å¯¹äº `fast ä¸ºç©º`å’Œ`fast.nextä¸ºç©º`ä¸¤ä¸ªæ¡ä»¶ï¼Œåœ¨å¥‡æ•°çš„æƒ…å†µä¸‹ï¼Œæ€»æ˜¯ `fastä¸ºç©º`å…ˆå‡ºç°ï¼Œå¶æ•°çš„æƒ…å†µä¸‹ï¼Œæ€»æ˜¯`fast.next`å…ˆå‡ºç°.

ä¹Ÿå°±æ˜¯è¯´: ä¸€æ—¦`fastä¸ºç©º`, é“¾è¡¨èŠ‚ç‚¹ä¸ªæ•°ä¸€å®šä¸ºå¥‡æ•°ï¼Œå¦åˆ™ä¸ºå¶æ•°ã€‚å› æ­¤ä¸¤ç§æƒ…å†µå¯ä»¥åˆå¹¶æ¥è®¨è®ºï¼Œå½“ fast ä¸ºç©ºæˆ–è€… fast.next ä¸ºç©ºï¼Œå¾ªç¯å°±å¯ä»¥ç»ˆæ­¢äº†ã€‚

å®Œæ•´å®ç°å¦‚ä¸‹:

```js
/**
 * @param {ListNode} head
 * @return {boolean}
 */
var isPalindrome = function(head) {
    let reverse = (pre, cur) => {
        if(!cur) return pre;
        let next = cur.next;
        cur.next = pre;
        return reverse(cur, next);
    }
    let dummyHead = slow = fast = new ListNode();
    dummyHead.next = head;
    // æ³¨æ„æ³¨æ„ï¼Œæ¥æ‰¾ä¸­ç‚¹äº†, é»„é‡‘æ¨¡æ¿
    while(fast && fast.next) {
        slow = slow.next;
        fast = fast.next.next;
    }
    let next = slow.next;
    slow.next = null;
    let newStart = reverse(null, next);
    for(let p = head, newP = newStart; newP != null; p = p.next, newP = newP.next) {
        if(p.val != newP.val) return false;
    }
    return true;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26







### **æ ˆå’Œé˜Ÿåˆ—ç¯‡**

## æœ‰æ•ˆæ‹¬å·

ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ '('ï¼Œ')'ï¼Œ'{'ï¼Œ'}'ï¼Œ'['ï¼Œ']' çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚

æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š

å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚ å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚ æ³¨æ„ç©ºå­—ç¬¦ä¸²å¯è¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹**:

```text
è¾“å…¥: "()"
è¾“å‡º: true
```

1
2

æ¥æº: [LeetCodeç¬¬20é¢˜](https://leetcode-cn.com/problems/valid-parentheses/)

### [#](http://47.98.159.95/leetcode-js/stack-queue/stack-recursive.html#ä»£ç å®ç°)ä»£ç å®ç°

```js
/**
 * @param {string} s
 * @return {boolean}
 */
var isValid = function(s) {
    let stack = [];
    for(let i = 0; i < s.length; i++) {
        let ch = s.charAt(i);
        if(ch == '(' || ch == '[' || ch == '{') 
            stack.push(ch);
        if(!stack.length) return false;
        if(ch == ')' && stack.pop() !== '(') return false;
        if(ch == ']' && stack.pop() !== '[' ) return false;
        if(ch == '}' && stack.pop() !== '{') return false;
    }
    return stack.length === 0;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17

## [#](http://47.98.159.95/leetcode-js/stack-queue/stack-recursive.html#å¤šç»´æ•°ç»„-flatten)å¤šç»´æ•°ç»„ flatten

å°†å¤šç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´æ•°ç»„ã€‚

**ç¤ºä¾‹:**

```text
[1, [2, [3, [4, 5]]], 6] -> [1, 2, 3, 4, 5, 6]
```

1

### [#](http://47.98.159.95/leetcode-js/stack-queue/stack-recursive.html#ä»£ç å®ç°-2)ä»£ç å®ç°

```js
/**
 * @constructor
 * @param {NestedInteger[]} nestedList
 * @return {Integer[]}
 */
let flatten = (nestedList) => {
    let result = [];
    let fn = function (target, ary) {
        for (let i = 0; i < ary.length; i++) {
            let item = ary[i];
            if (Array.isArray(ary[i])) {
                fn(target, item);
            } else {
                target.push(item);
            }
        }
    }
    fn(result, nestedList)
    return result;
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20

åŒæ—¶å¯é‡‡ç”¨ reduce çš„æ–¹å¼, ä¸€è¡Œå°±å¯ä»¥è§£å†³ï¼Œéå¸¸ç®€æ´ã€‚

```js
let flatten = (nestedList) =>  nestedList.reduce((pre, cur) => pre.concat(Array.isArray(cur) ? flatten(cur): cur), [])
```

1



# äºŒå‰æ ‘å±‚åºéå†

`äºŒå‰æ ‘çš„å±‚åºéå†`æœ¬æ˜¯ä¸‹ä¸€ç« çš„å†…å®¹ï¼Œä½†æ˜¯å…¶ä¸­é˜Ÿåˆ—çš„æ€§è´¨åˆä½“ç°å¾—å¤ªæ˜æ˜¾ï¼Œå› æ­¤å°±ä»¥è¿™æ ·ä¸€ç±»é—®é¢˜æ¥è®©å¤§å®¶ç»ƒä¹ é˜Ÿåˆ—çš„ç›¸å…³æ“ä½œã€‚è¿™é‡Œä¼šä¸ä»…ä»…æ¶‰åŠåˆ°`æ™®é€šçš„å±‚åºéå†`, è€Œä¸”æ¶‰åŠåˆ°å˜å½¢é—®é¢˜ï¼Œè®©å¤§å®¶å½»åº•æŒæ¡ã€‚

## [#](http://47.98.159.95/leetcode-js/stack-queue/003.html#æ™®é€šçš„å±‚æ¬¡éå†)æ™®é€šçš„å±‚æ¬¡éå†

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å…¶æŒ‰å±‚æ¬¡éå†çš„èŠ‚ç‚¹å€¼ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚

ç¤ºä¾‹:

```text
  3
  / \
9  20
  /  \
  15   7
```

1
2
3
4
5

ç»“æœåº”è¾“å‡º:

```text
[
  [3],
  [9,20],
  [15,7]
]
```

1
2
3
4
5

æ¥æº: [LeetCodeç¬¬102é¢˜](https://leetcode-cn.com/problems/binary-tree-level-order-traversal/)

### [#](http://47.98.159.95/leetcode-js/stack-queue/003.html#å®ç°)å®ç°

```js
/**
 * @param {TreeNode} root
 * @return {number[][]}
 */
var levelOrder = function(root) {
    if(!root) return [];
    let queue = [];
    let res = [];
    let level = 0;
    queue.push(root);
    let temp;
    while(queue.length) {
        res.push([]);
        let size = queue.length;
        // æ³¨æ„ä¸€ä¸‹: size -- åœ¨å±‚æ¬¡éå†ä¸­æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æŠ€å·§
        while(size --) {
            // å‡ºé˜Ÿ
            let front = queue.shift();
            res[level].push(front.val);
            // å…¥é˜Ÿ
            if(front.left) queue.push(front.left);
            if(front.right) queue.push(front.right);
        }        
        level++;
    }
    return res;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27

## [#](http://47.98.159.95/leetcode-js/stack-queue/003.html#äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†)äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„é”¯é½¿å½¢å±‚æ¬¡éå†ã€‚ï¼ˆå³å…ˆä»å·¦å¾€å³ï¼Œå†ä»å³å¾€å·¦è¿›è¡Œä¸‹ä¸€å±‚éå†ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå±‚ä¸å±‚ä¹‹é—´äº¤æ›¿è¿›è¡Œï¼‰ã€‚

ä¾‹å¦‚ï¼š

ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7], è¾“å‡ºåº”å¦‚ä¸‹:

```text
    3
   / \
  9  20
    /  \
   15   7
```

1
2
3
4
5

è¿”å›é”¯é½¿å½¢å±‚æ¬¡éå†å¦‚ä¸‹ï¼š

```js
[
  [3],
  [20,9],
  [15,7]
]
```

1
2
3
4
5

æ¥æº: [LeetCodeç¬¬103é¢˜](https://leetcode-cn.com/problems/binary-tree-zigzag-level-order-traversal/)

### [#](http://47.98.159.95/leetcode-js/stack-queue/003.html#æ€è·¯)æ€è·¯

è¿™ä¸€é¢˜æ€è·¯ç¨å¾®ä¸åŒï¼Œä½†å¦‚æœæŠŠæ¡ä½å±‚æ¬¡éå†çš„æ€è·¯ï¼Œå°±ä¼šéå¸¸ç®€å•ã€‚

### [#](http://47.98.159.95/leetcode-js/stack-queue/003.html#ä»£ç å®ç°)ä»£ç å®ç°



















 

 







```js
var zigzagLevelOrder = function(root) {
    if(!root) return [];
    let queue = [];
    let res = [];
    let level = 0;
    queue.push(root);
    let temp;
    while(queue.length) {
        res.push([]);
        let size = queue.length;
        while(size --) {
            // å‡ºé˜Ÿ
            let front = queue.shift();
            res[level].push(front.val);
            if(front.left) queue.push(front.left);
            if(front.right) queue.push(front.right);
        }  
        // ä»…ä»…å¢åŠ ä¸‹é¢ä¸€è¡Œä»£ç å³å¯
        if(level % 2) res[level].reverse();      
        level++;
    }
    return res;
};
```

## [#](http://47.98.159.95/leetcode-js/stack-queue/003.html#äºŒå‰æ ‘çš„å³è§†å›¾)äºŒå‰æ ‘çš„å³è§†å›¾

ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œæƒ³è±¡è‡ªå·±ç«™åœ¨å®ƒçš„å³ä¾§ï¼ŒæŒ‰ç…§ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„é¡ºåºï¼Œè¿”å›ä»å³ä¾§æ‰€èƒ½çœ‹åˆ°çš„èŠ‚ç‚¹å€¼ã€‚

**ç¤ºä¾‹**:

```text
è¾“å…¥: [1,2,3,null,5,null,4]
è¾“å‡º: [1, 3, 4]
è§£é‡Š:

   1            <---
 /   \
2     3         <---
 \     \
  5     4       <---
```


æ¥æº: [LeetCodeç¬¬199é¢˜](https://leetcode-cn.com/problems/binary-tree-right-side-view/)

### [#](http://47.98.159.95/leetcode-js/stack-queue/003.html#æ€è·¯-2)æ€è·¯

å³è§†å›¾ï¼Ÿå¦‚æœä½ ä»¥ DFS å³æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ€è·¯æ¥æƒ³ï¼Œä½ ä¼šæ„Ÿè§‰å¼‚å¸¸çš„ç—›è‹¦ã€‚æ²¡é”™ï¼Œå½“åˆæˆ‘å°±æ˜¯è¿™æ ·è¢«å‘çš„:ï¼‰

ä½†å¦‚æœç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ€æƒ³ï¼Œå³ç”¨å±‚åºéå†çš„æ–¹å¼ï¼Œæ±‚è§£è¿™é“é¢˜ç›®ä¹Ÿå˜å¾—è½»è€Œæ˜“ä¸¾ã€‚

### [#](http://47.98.159.95/leetcode-js/stack-queue/003.html#ä»£ç å®ç°-2)ä»£ç å®ç°

```js
/**
 * @param {TreeNode} root
 * @return {number[]}
 */
var rightSideView = function(root) {
    if(!root) return [];
    let queue = [];
    let res = [];
    queue.push(root);
    while(queue.length) {
        res.push(queue[0].val);
        let size = queue.length;
        while(size --) {
            // ä¸€ä¸ªsizeçš„å¾ªç¯å°±æ˜¯ä¸€å±‚çš„éå†ï¼Œåœ¨è¿™ä¸€å±‚åªæ‹¿æœ€å³è¾¹çš„ç»“ç‚¹
            let front = queue.shift();
            if(front.right) queue.push(front.right);
            if(front.left) queue.push(front.left);
        }
    }
    return res;
};
```


# æ— æƒå›¾ BFS éå†

## [#](http://47.98.159.95/leetcode-js/stack-queue/bfs.html#å®Œå…¨å¹³æ–¹æ•°)å®Œå…¨å¹³æ–¹æ•°

ç»™å®šæ­£æ•´æ•° nï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ 1, 4, 9, 16, ...ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº nã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘ã€‚

**ç¤ºä¾‹:**

```text
è¾“å…¥: n = 12
è¾“å‡º: 3 
è§£é‡Š: 12 = 4 + 4 + 4.
```

1
2
3

æ¥æº: [LeetCodeç¬¬279é¢˜](https://leetcode-cn.com/problems/perfect-squares/)

### [#](http://47.98.159.95/leetcode-js/stack-queue/bfs.html#æ€è·¯)æ€è·¯

è¿™ä¸€é¢˜å…¶å®æœ€å®¹æ˜“æƒ³åˆ°çš„æ€è·¯æ˜¯åŠ¨æ€è§„åˆ’ï¼Œæˆ‘ä»¬æ”¾åˆ°åé¢ä¸“é—¨æ¥æ‹†è§£ã€‚å®é™…ä¸Šç”¨é˜Ÿåˆ—è¿›è¡Œå›¾çš„å»ºæ¨¡ï¼Œä¹Ÿæ˜¯å¯ä»¥é¡ºåˆ©åœ°ç”¨å¹¿åº¦ä¼˜å…ˆéå†çš„æ–¹å¼è§£å†³çš„ã€‚

[![img](http://47.98.159.95/leetcode-js/stack-queue/001.jpg)](http://47.98.159.95/leetcode-js/stack-queue/001.jpg)

çœ‹åˆ°è¿™ä¸ªå›¾ï¼Œä½ å¯èƒ½ä¼šæœ‰ç‚¹æ‡µï¼Œæˆ‘ç¨å¾®è§£é‡Šä¸€ä¸‹ä½ å°±æ˜ç™½äº†ã€‚

åœ¨è¿™ä¸ªæ— æƒå›¾ä¸­ï¼Œæ¯ä¸€ä¸ªç‚¹æŒ‡å‘çš„éƒ½æ˜¯å®ƒå¯èƒ½ç»è¿‡çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹ 5 è€Œè¨€ï¼Œå¯èƒ½æ˜¯ 4 åŠ ä¸Šäº†`1çš„å¹³æ–¹`è½¬æ¢è€Œæ¥ï¼Œä¹Ÿå¯èƒ½æ˜¯1 åŠ ä¸Šäº†`2çš„å¹³æ–¹`è½¬æ¢è€Œæ¥ï¼Œå› æ­¤è·Ÿ`1`å’Œ`2`éƒ½æœ‰è”ç³»ï¼Œä¾æ¬¡ç±»æ¨ã€‚

é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨è¦åšäº†å°±æ˜¯å¯»æ‰¾åˆ°`ä» n è½¬æ¢åˆ° 0 æœ€çŸ­çš„è¿çº¿æ•°`ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œ n = 8 æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°å®ƒçš„é‚»å±…èŠ‚ç‚¹`4`å’Œ`7`ï¼Œæ­¤æ—¶åˆ°è¾¾ 4 å’Œåˆ°è¾¾ 7 çš„æ­¥æ•°éƒ½ä¸º 1, ç„¶ååˆ†åˆ«ä» 4 å’Œ 7 å‡ºå‘ï¼Œ4 æ‰¾åˆ°é‚»å±…èŠ‚ç‚¹`3`å’Œ`0`ï¼Œè¾¾åˆ° 3 å’Œ 0 çš„æ­¥æ•°éƒ½ä¸º 2ï¼Œè€ƒè™‘åˆ°æ­¤æ—¶å·²ç»åˆ°è¾¾ 0ï¼Œéå†ç»ˆæ­¢ï¼Œè¿”å›åˆ°è¾¾ 0 çš„æ­¥æ•° 2 å³å¯ã€‚

Talk is cheap, show me your code. æˆ‘ä»¬æ¥ä¸‹æ¥æ¥ä¸€æ­¥æ­¥å®ç°è¿™ä¸ªå¯»æ‰¾çš„è¿‡ç¨‹ã€‚

### [#](http://47.98.159.95/leetcode-js/stack-queue/bfs.html#å®ç°)å®ç°

æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®ç°ç¬¬ä¸€ç‰ˆçš„ä»£ç ã€‚

```js
/**
 * @param {number} n
 * @return {number}
 */
var numSquares = function(n) {
    let queue = [];
    queue.push([n, 0]);
    while(queue.length) {
        let [num, step] = queue.shift();
        for(let i = 1; ; i ++) {
            let nextNum = num - i * i;
            if(nextNum < 0) break;
            // è¿˜å·®æœ€åä¸€æ­¥å°±åˆ°äº†ï¼Œç›´æ¥è¿”å› step + 1
            if(nextNum == 0) return step + 1;
            queue.push([nextNum, step + 1]);
        }
    }
    // æœ€åæ˜¯ä¸éœ€è¦è¿”å›å¦å¤–çš„å€¼çš„ï¼Œå› ä¸º 1 ä¹Ÿæ˜¯å®Œå…¨å¹³æ–¹æ•°ï¼Œæ‰€æœ‰çš„æ•°éƒ½èƒ½ç”¨ 1 æ¥ç»„åˆ
};
```

è¿™ä¸ªè§£æ³•ä»åŠŸèƒ½ä¸Šæ¥è®²æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯å…¶ä¸­éšè—äº†å·¨å¤§çš„æ€§èƒ½é—®é¢˜ï¼Œä½ å¯ä»¥å»[LeetCode](https://leetcode-cn.com/problems/perfect-squares/submissions/)å»æµ‹è¯•ä¸€ä¸‹ï¼ŒåŸºæœ¬æ˜¯è¶…æ—¶ã€‚

é‚£ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ï¼Ÿ

å‡ºå°±å‡ºåœ¨è¿™æ ·ä¸€è¡Œä»£ç :

```js
queue.push([nextNum, step + 1]);
```

1

åªè¦æ˜¯å¤§äº 0 çš„æ•°ï¼Œç»Ÿç»Ÿå¡è¿›é˜Ÿåˆ—ã€‚è¦çŸ¥é“ 2 - 1 = 1ï¼Œ 5 - 4 = 1ï¼Œ 9 - 8 = 1 ......è¿™æ ·ä¼šé‡å¤éå¸¸å¤šçš„ `1`, ä¾æ¬¡ç±»æ¨ï¼Œä¹Ÿä¼šé‡å¤éå¸¸å¤šçš„`2`,`3`ç­‰ç­‰ç­‰ç­‰ã€‚

è¿™æ ·å¤§é‡çš„é‡å¤æ•°å­—ä¸ä»…ä»…æ¶ˆè€—äº†æ›´å¤šçš„å¾ªç¯æ¬¡æ•°ï¼ŒåŒæ—¶ä¹Ÿé€ æˆæ›´åŠ å·¨å¤§çš„å†…å­˜ç©ºé—´å‹åŠ›ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å·²ç»æ¨å…¥é˜Ÿåˆ—çš„æ•°å­—è¿›è¡Œæ ‡è®°ï¼Œé¿å…é‡å¤æ¨å…¥ã€‚æ”¹å–„ä»£ç å¦‚ä¸‹:

```js
var numSquares = function(n) {
    let map = new Map();
    let queue = [];
    queue.push([n, 0]);
    map.set(n, true);
    while(queue.length) {
        let [num, step] = queue.shift();
        for(let i = 1; ; i++) {
            let nextNum = num - i * i;
            if(nextNum < 0) break;
            if(nextNum == 0) return step + 1;
            // nextNum æœªè¢«è®¿é—®è¿‡
            if(!map.get(nextNum)){
                queue.push([nextNum, step + 1]);
                // æ ‡è®°å·²ç»è®¿é—®è¿‡
                map.set(nextNum, true);
            }
        }
    }
};
```

## [#](http://47.98.159.95/leetcode-js/stack-queue/bfs.html#å•è¯æ¥é¾™)å•è¯æ¥é¾™

ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆbeginWord å’Œ endWordï¼‰å’Œä¸€ä¸ªå­—å…¸ï¼Œæ‰¾åˆ°ä» beginWord åˆ° endWord çš„æœ€çŸ­è½¬æ¢åºåˆ—çš„é•¿åº¦ã€‚è½¬æ¢éœ€éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š

- æ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯ã€‚
- è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸ä¸­çš„å•è¯ã€‚

è¯´æ˜:

1. å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› 0ã€‚
2. æ‰€æœ‰å•è¯å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚
3. æ‰€æœ‰å•è¯åªç”±å°å†™å­—æ¯ç»„æˆã€‚
4. å­—å…¸ä¸­ä¸å­˜åœ¨é‡å¤çš„å•è¯ã€‚
5. ä½ å¯ä»¥å‡è®¾ beginWord å’Œ endWord æ˜¯éç©ºçš„ï¼Œä¸”äºŒè€…ä¸ç›¸åŒã€‚

**ç¤ºä¾‹**:

```text
è¾“å…¥:
beginWord = "hit",
endWord = "cog",
wordList = ["hot","dot","dog","lot","log","cog"]

è¾“å‡º: 5

è§£é‡Š: ä¸€ä¸ªæœ€çŸ­è½¬æ¢åºåˆ—æ˜¯ "hit" -> "hot" -> "dot" -> "dog" -> "cog",
     è¿”å›å®ƒçš„é•¿åº¦ 5ã€‚
```


æ¥æº: [LeetCodeç¬¬127é¢˜](https://leetcode-cn.com/problems/word-ladder/)

### [#](http://47.98.159.95/leetcode-js/stack-queue/bfs.html#æ€è·¯-2)æ€è·¯

è¿™ä¸€é¢˜æ˜¯ä¸€ä¸ªæ›´åŠ å…¸å‹çš„ç”¨å›¾å»ºæ¨¡çš„é—®é¢˜ã€‚å¦‚æœæ¯ä¸€ä¸ªå•è¯éƒ½æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåªè¦å’Œè¿™ä¸ªå•è¯ä»…æœ‰ä¸€ä¸ªå­—æ¯ä¸åŒï¼Œé‚£ä¹ˆå°±æ˜¯å®ƒçš„ç›¸é‚»èŠ‚ç‚¹ã€‚

è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ BFS çš„æ–¹å¼æ¥è¿›è¡Œéå†ã€‚å®ç°å¦‚ä¸‹:

### [#](http://47.98.159.95/leetcode-js/stack-queue/bfs.html#ä»£ç å®ç°)ä»£ç å®ç°

```js
/**
 * @param {string} beginWord
 * @param {string} endWord
 * @param {string[]} wordList
 * @return {number}
 */
var ladderLength = function(beginWord, endWord, wordList) {
    // ä¸¤ä¸ªå•è¯åœ¨å›¾ä¸­æ˜¯å¦ç›¸é‚»
    const isSimilar = (a, b) => {
        let diff = 0
        for(let i = 0; i < a.length; i++) {
            if(a.charAt(i) !== b.charAt(i)) diff++;
            if(diff > 1) return false; 
        }
        return true;
    }
    let queue = [beginWord];
    let index = wordList.indexOf(beginWord);
    if(index !== -1) wordList.splice(index, 1);
    let res = 2;
    while(queue.length) {
        let size = queue.length;
        while(size --) {
            let front = queue.shift();
            for(let i = 0; i < wordList.length; i++) {
                if(!isSimilar(front, wordList[i]))continue;
                // æ‰¾åˆ°äº†
                if(wordList[i] === endWord) {
                    return res;
                }
                else {
                    queue.push(wordList[i]);
                }
                // wordList[i]å·²ç»æˆåŠŸæ¨å…¥ï¼Œç°åœ¨ä¸éœ€è¦äº†ï¼Œåˆ é™¤å³å¯
                // è¿™ä¸€æ­¥æ€§èƒ½ä¼˜åŒ–ï¼Œç›¸å½“å…³é”®ï¼Œä¸ç„¶100%è¶…æ—¶
                wordList.splice(i, 1);
                i --;
            }
        }
        // æ­¥æ•° +1
        res += 1;
    }
    return 0;
};
```


# å®ç°ä¼˜å…ˆé˜Ÿåˆ—

æ‰€è°“ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå°±æ˜¯ä¸€ç§ç‰¹æ®Šçš„**é˜Ÿåˆ—**, å…¶åº•å±‚ä½¿ç”¨**å †**çš„ç»“æ„ï¼Œä½¿å¾—æ¯æ¬¡æ·»åŠ æˆ–è€…åˆ é™¤ï¼Œè®©é˜Ÿé¦–å…ƒç´ å§‹ç»ˆæ˜¯ä¼˜å…ˆçº§æœ€é«˜çš„ã€‚å…³äºä¼˜å…ˆçº§é€šè¿‡ä»€ä¹ˆå­—æ®µã€æŒ‰ç…§ä»€ä¹ˆæ ·çš„æ¯”è¾ƒæ–¹å¼æ¥è®¾å®šï¼Œå¯ä»¥ç”±æˆ‘ä»¬è‡ªå·±æ¥å†³å®šã€‚

è¦å®ç°ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé¦–å…ˆæ¥å®ç°ä¸€ä¸ªå †çš„ç»“æ„ã€‚

## [#](http://47.98.159.95/leetcode-js/stack-queue/004.html#å…³äºå †çš„è¯´æ˜)å…³äºå †çš„è¯´æ˜

å¯èƒ½ä½ ä»¥å‰æ²¡æœ‰æ¥è§¦è¿‡**å †**è¿™ç§æ•°æ®ç»“æ„ï¼Œä½†æ˜¯å…¶å®æ˜¯å¾ˆç®€å•çš„ä¸€ç§ç»“æ„ï¼Œå…¶æœ¬è´¨å°±æ˜¯ä¸€æ£µäºŒå‰æ ‘ã€‚ä½†æ˜¯è¿™æ£µäºŒå‰æ ‘æ¯”è¾ƒç‰¹æ®Šï¼Œé™¤äº†ç”¨æ•°ç»„æ¥ä¾æ¬¡å­˜å‚¨å„ä¸ªèŠ‚ç‚¹(èŠ‚ç‚¹å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡å’Œ**å±‚åºéå†çš„åºå·**ä¸€è‡´)ä¹‹å¤–ï¼Œå®ƒéœ€è¦ä¿è¯**ä»»ä½•ä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„ä¼˜å…ˆçº§å¤§äºå­èŠ‚ç‚¹**ï¼Œè¿™ä¹Ÿæ˜¯å®ƒæœ€å…³é”®çš„æ€§è´¨ï¼Œå› ä¸ºä¿è¯äº†æ ¹å…ƒç´ ä¸€å®šæ˜¯ä¼˜å…ˆçº§æœ€é«˜çš„ã€‚

ä¸¾ä¸€ä¸ªä¾‹å­:

[![img](http://47.98.159.95/leetcode-js/stack-queue/001.webp)](http://47.98.159.95/leetcode-js/stack-queue/001.webp)

ç°åœ¨è¿™ä¸ªå †çš„æ•°ç»„å°±æ˜¯: **[10, 7, 2, 5, 1]**

å› æ­¤ä¹Ÿä¼šäº§ç”Ÿä¸¤ä¸ªéå¸¸å…³é”®çš„æ“ä½œâ€”â€”**siftUp** å’Œ **siftDown**ã€‚

å¯¹äº**siftUp**æ“ä½œï¼Œæˆ‘ä»¬è¯•æƒ³ä¸€ä¸‹ç°åœ¨æœ‰ä¸€ä¸ªæ­£å¸¸çš„å †ï¼Œæ»¡è¶³ä»»ä½•çˆ¶å…ƒç´ ä¼˜å…ˆçº§å¤§äºå­å…ƒç´ ï¼Œè¿™æ—¶å€™å‘è¿™ä¸ªå †çš„æ•°ç»„æœ«å°¾åˆæ·»åŠ äº†ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ç°åœ¨å¯èƒ½å°±ä¸ç¬¦åˆ`å †`çš„ç»“æ„ç‰¹ç‚¹äº†ã€‚é‚£ä¹ˆç°åœ¨æˆ‘å°†æ–°å¢çš„èŠ‚ç‚¹å’Œå…¶çˆ¶èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœçˆ¶èŠ‚ç‚¹ä¼˜å…ˆçº§å°äºå®ƒï¼Œåˆ™ä¸¤è€…äº¤æ¢ï¼Œä¸æ–­å‘ä¸Šæ¯”è¾ƒç›´åˆ°æ ¹èŠ‚ç‚¹ä¸ºæ­¢ï¼Œè¿™æ ·å°±ä¿è¯äº†**å †**çš„æ­£ç¡®ç»“æ„ã€‚è€Œè¿™æ ·çš„æ“ä½œå°±æ˜¯**siftUp**ã€‚

**siftDown**æ˜¯ä¸å…¶ç›¸åæ–¹å‘çš„æ“ä½œï¼Œä»ä¸Šåˆ°ä¸‹æ¯”è¾ƒï¼ŒåŸç†ç›¸åŒï¼Œä¹Ÿæ˜¯ä¸ºäº†ä¿è¯å †çš„æ­£ç¡®ç»“æ„ã€‚

## [#](http://47.98.159.95/leetcode-js/stack-queue/004.html#å®ç°ä¸€ä¸ªæœ€å¤§å †)å®ç°ä¸€ä¸ªæœ€å¤§å †

æœ€å¤§å †ï¼Œå³å †é¡¶å…ƒç´ ä¸ºä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ ã€‚

```js
// ä»¥æœ€å¤§å †ä¸ºä¾‹æ¥å®ç°ä¸€æ³¢
/**
* @param {number[]} nums
* @param {number} k
* @return {number[]}
*/
class MaxHeap {
  constructor(arr = [], compare = null) {
    this.data = arr;
    this.size = arr.length;
    this.compare = compare;
  }
  getSize() {
    return this.size;
  }
  isEmpty() {
    return this.size === 0;
  }
  // å¢åŠ å…ƒç´ 
  add(value) {
    this.data.push(value);
    this.size++;
    // å¢åŠ çš„æ—¶å€™æŠŠæ·»åŠ çš„å…ƒç´ è¿›è¡Œ siftUp
    this._siftUp(this.getSize() - 1);
  }
  // æ‰¾åˆ°ä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ 
  findMax() {
    if (this.getSize() === 0)
      return;
    return this.data[0];
  }
  // è®©ä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ (å³é˜Ÿé¦–å…ƒç´ )å‡ºé˜Ÿ
  extractMax() {
    // 1.ä¿å­˜é˜Ÿé¦–å…ƒç´ 
    let ret = this.findMax();
    // 2.è®©é˜Ÿé¦–å’Œé˜Ÿå°¾å…ƒç´ äº¤æ¢ä½ç½®
    this._swap(0, this.getSize() - 1);
    // 3. æŠŠé˜Ÿå°¾è¸¢å‡ºå»ï¼Œsize--
    this.data.pop();
    this.size--;
    // 4. æ–°çš„é˜Ÿé¦– siftDown
    this._siftDown(0);
    return ret;
  }

  toString() {
    console.log(this.data);
  }
  _swap(i, j) {
    [this.data[i], this.data[j]] = [this.data[j], this.data[i]];
  }
  _parent(index) {
    return Math.floor((index - 1) / 2);
  }
  _leftChild(index) {
    return 2 * index + 1;
  }
  _rightChild(index) {
    return 2 * index + 2;
  }
  _siftUp(k) {
    // ä¸Šæµ®æ“ä½œï¼Œåªè¦å­å…ƒç´ ä¼˜å…ˆçº§æ¯”çˆ¶èŠ‚ç‚¹å¤§ï¼Œçˆ¶å­äº¤æ¢ä½ç½®ï¼Œä¸€ç›´å‘ä¸Šç›´åˆ°æ ¹èŠ‚ç‚¹
    while (k > 0 && this.compare(this.data[k], this.data[this._parent(k)])) {
      this._swap(k, this._parent(k));
      k = this._parent(k);
    }
  }
  _siftDown(k) {
    // å­˜åœ¨å·¦å­©å­çš„æ—¶å€™
    while (this._leftChild(k) < this.size) {
      let j = this._leftChild(k);
      // å­˜åœ¨å³å­©å­è€Œä¸”å³å­©å­æ¯”å·¦å­©å­å¤§
      if (this._rightChild(k) < this.size &&
        this.compare(this.data[this._rightChild(k)], this.data[j])) {
        j++;
      }
      if (this.compare(this.data[k], this.data[j]))
        return;
      // çˆ¶èŠ‚ç‚¹æ¯”å­èŠ‚ç‚¹å°ï¼Œäº¤æ¢ä½ç½®
      this._swap(k, j);
      // ç»§ç»­ä¸‹æ²‰
      k = j;
    }
  }
}
```

## [#](http://47.98.159.95/leetcode-js/stack-queue/004.html#å®ç°ä¼˜å…ˆé˜Ÿåˆ—-2)å®ç°ä¼˜å…ˆé˜Ÿåˆ—

æœ‰äº†æœ€å¤§å †ä½œé“ºå«ï¼Œå®ç°ä¼˜å…ˆé˜Ÿåˆ—å°±æ˜“å¦‚åæŒï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥æ”¾ä¸Šä»£ç ã€‚

```js
class PriorityQueue {
  // max ä¸ºä¼˜å…ˆé˜Ÿåˆ—çš„å®¹é‡
  constructor(max, compare) {
    this.max = max;
    this.compare = compare;
    this.maxHeap = new MaxHeap([], compare);
  }

  getSize() {
    return this.maxHeap.getSize();
  }

  isEmpty() {
    return this.maxHeap.isEmpty();
  }

  getFront() {
    return this.maxHeap.findMax();
  }

  enqueue(e) {
    // æ¯”å½“å‰æœ€é«˜çš„ä¼˜å…ˆçº§çš„è¿˜è¦é«˜ï¼Œç›´æ¥ä¸å¤„ç†
    if (this.getSize() === this.max) {
      if (this.compare(e, this.getFront())) return;
      this.dequeue();
    }
    return this.maxHeap.add(e);
  }

  dequeue() {
    if (this.getSize() === 0) return null;
    return this.maxHeap.extractMax();
  }
}
```



æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼Ÿä¼ è¯´ä¸­çš„**ä¼˜å…ˆé˜Ÿåˆ—**ä¹Ÿä¸è¿‡å¦‚æ­¤ã€‚

ä¸”æ…¢ï¼Œå¯èƒ½ä¼šæœ‰äººé—®: ä½ æ€ä¹ˆä¿è¯è¿™ä¸ªä¼˜å…ˆé˜Ÿåˆ—æ˜¯æ­£ç¡®çš„å‘¢?

æˆ‘ä»¬ä¸å¦¨æ¥åšä¸€ä¸‹æµ‹è¯•:

```js
let pq = new PriorityQueue(3);
pq.enqueue(1);
pq.enqueue(333);
console.log(pq.dequeue());
console.log(pq.dequeue());
pq.enqueue(3);
pq.enqueue(6);
pq.enqueue(62);
console.log(pq.dequeue());
console.log(pq.dequeue());
console.log(pq.dequeue());
```

ç»“æœå¦‚ä¸‹:

```text
333
1
62
6
3
```

å¯è§ï¼Œè¿™ä¸ªä¼˜å…ˆé˜Ÿåˆ—çš„åŠŸèƒ½åˆæ­¥æ»¡è¶³äº†æˆ‘ä»¬çš„é¢„æœŸã€‚åé¢ï¼Œæˆ‘ä»¬å°†é€šè¿‡å®é™…çš„ä¾‹å­æ¥è¿ç”¨è¿™ç§æ•°æ®ç»“æ„æ¥è§£å†³é—®é¢˜ã€‚

â† [æ— æƒå›¾ BFS éå†](http://47.98.159.95/leetcode-js/stack-queue/bfs.html)



# ä¼˜å…ˆé˜Ÿåˆ—åº”ç”¨

## [#](http://47.98.159.95/leetcode-js/stack-queue/005.html#å‰-k-ä¸ªé«˜é¢‘å…ƒç´ )å‰ K ä¸ªé«˜é¢‘å…ƒç´ 

ç»™å®šä¸€ä¸ªéç©ºçš„æ•´æ•°æ•°ç»„ï¼Œè¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ k é«˜çš„å…ƒç´ ã€‚

**ç¤ºä¾‹:**

```text
è¾“å…¥: nums = [1,1,1,2,2,3], k = 2
è¾“å‡º: [1,2]
```


è¯´æ˜:

- ä½ å¯ä»¥å‡è®¾ç»™å®šçš„ k æ€»æ˜¯åˆç†çš„ï¼Œä¸” 1 â‰¤ k â‰¤ æ•°ç»„ä¸­ä¸ç›¸åŒçš„å…ƒç´ çš„ä¸ªæ•°ã€‚
- ä½ çš„ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¿…é¡»ä¼˜äº O(n log n) , n æ˜¯æ•°ç»„çš„å¤§å°ã€‚

æ¥æº: [LeetCodeç¬¬347é¢˜](https://leetcode-cn.com/problems/top-k-frequent-elements/)

### [#](http://47.98.159.95/leetcode-js/stack-queue/005.html#æ€è·¯)æ€è·¯

é¦–å…ˆè¦åšçš„è‚¯å®šæ˜¯ç»Ÿè®¡é¢‘ç‡ï¼Œé‚£ä¹‹åå¦‚ä½•æ¥é€‰å–é¢‘ç‡å‰ K ä¸ªå…ƒç´ åŒæ—¶åˆä¿è¯æ—¶é—´å¤æ‚åº¦å°äº O(n log n)å‘¢ï¼Ÿ

å½“ç„¶ï¼Œè¿™æ˜¯ä¸€é“å…¸å‹çš„è€ƒå¯Ÿä¼˜å…ˆé˜Ÿåˆ—çš„é¢˜ï¼Œåˆ©ç”¨å®¹é‡ä¸º K çš„ä¼˜å…ˆé˜Ÿåˆ—æ¯æ¬¡è¸¢å‡ºä¸ç¬¦åˆæ¡ä»¶çš„å€¼ï¼Œé‚£ä¹ˆæœ€åå‰©ä¸‹çš„å³ä¸ºæ‰€æ±‚ã€‚æ•´ä¸ªæ—¶é—´å¤æ‚åº¦æˆä¸º Oï¼ˆn log Kï¼‰ï¼Œæ˜æ˜¾æ˜¯å°äº O(n log n) çš„ã€‚

æ—¢ç„¶æ˜¯ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå°±æ¶‰åŠåˆ°å¦‚ä½•æ¥å®šä¹‰ä¼˜å…ˆçº§çš„é—®é¢˜ã€‚

å€˜è‹¥æˆ‘ä»¬ä»¥é«˜é¢‘ç‡ä¸ºé«˜ä¼˜å…ˆçº§ï¼Œé‚£ä¹ˆé˜Ÿé¦–å§‹ç»ˆæ˜¯é«˜é¢‘ç‡çš„å…ƒç´ ï¼Œå› æ­¤æ¯æ¬¡å‡ºé˜Ÿæ˜¯è¸¢å‡ºå‡ºç°é¢‘ç‡æœ€é«˜çš„å…ƒç´ ï¼Œå‡è®¾ä¼˜å…ˆé˜Ÿåˆ—å®¹é‡ä¸º Kï¼Œé‚£ç…§è¿™ä¹ˆåšï¼Œå‰©ä¸‹çš„æ˜¯é¢‘ç‡æœ€ä½çš„ K ä¸ªå…ƒç´ ï¼Œæ˜¾ç„¶ä¸ç¬¦åˆé¢˜æ„ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯æ¯æ¬¡å‡ºé˜Ÿæ—¶è¸¢å‡º**é¢‘ç‡æœ€ä½çš„å…ƒç´ **ï¼Œè¿™æ ·æœ€åå‰©ä¸‹æ¥çš„å°±æ˜¯é¢‘ç‡æœ€é«˜ K ä¸ªå…ƒç´ ã€‚

æ˜¯ä¸æ˜¯æˆ‘ä»¬ä¸ºäº†è¸¢å‡º**é¢‘ç‡æœ€ä½çš„å…ƒç´ **ï¼Œè¿˜è¦é‡æ–°å†™ä¸€ä¸ªå°é¡¶å †çš„å®ç°å‘¢ï¼Ÿ

å®Œå…¨ä¸éœ€è¦ï¼å°±åƒæˆ‘åˆšæ‰æ‰€è¯´çš„ï¼Œåˆç†åœ°å®šä¹‰è¿™ä¸ªä¼˜å…ˆçº§çš„æ¯”è¾ƒé€»è¾‘å³å¯ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å…·ä½“å®ç°ä¸€ä¸‹ã€‚

### [#](http://47.98.159.95/leetcode-js/stack-queue/005.html#ä»£ç å®ç°)ä»£ç å®ç°

```js
var topKFrequent = function(nums, k) {
   let map = {};
   let pq = new PriorityQueue(k, (a, b) => map[a] - map[b] < 0);
   for(let i = 0; i < nums.length; i++) {
       if(!map[nums[i]]) map[nums[i]] = 1;
       else map[nums[i]] = map[[nums[i]]] + 1;
   }
   let arr = Array.from(new Set(nums));
   for(let i = 0; i < arr.length; i++) {
       pq.enqueue(arr[i]);
   }
   return pq.maxHeap.data;
};
```
## [#](http://47.98.159.95/leetcode-js/stack-queue/005.html#åˆå¹¶-k-ä¸ªæ’åºé“¾è¡¨)åˆå¹¶ K ä¸ªæ’åºé“¾è¡¨

åˆå¹¶ k ä¸ªæ’åºé“¾è¡¨ï¼Œè¿”å›åˆå¹¶åçš„æ’åºé“¾è¡¨ã€‚è¯·åˆ†æå’Œæè¿°ç®—æ³•çš„å¤æ‚åº¦ã€‚

**ç¤ºä¾‹:**

```text
è¾“å…¥:
[
  1->4->5,
  1->3->4,
  2->6
]
è¾“å‡º: 1->1->2->3->4->4->5->6
```
è¿™ä¸€é¢˜æˆ‘ä»¬ä¹‹å‰åœ¨**é“¾è¡¨ç¯‡**å®ç°è¿‡ï¼Œæ®Šä¸çŸ¥ï¼Œå®ƒä¹Ÿå¯ä»¥åˆ©ç”¨ä¼˜å…ˆé˜Ÿåˆ—å®Œç¾è§£å†³ã€‚

æ¥æº: [LeetCodeç¬¬23é¢˜](https://leetcode-cn.com/problems/merge-k-sorted-lists/)

```js
/**
 * @param {ListNode[]} lists
 * @return {ListNode}
 */
var mergeKLists = function(lists) {
    let dummyHead = p = new ListNode();
    // å®šä¹‰ä¼˜å…ˆçº§çš„å‡½æ•°ï¼Œé‡è¦ï¼
    let pq = new PriorityQueue(lists.length, (a, b) => a.val <= b.val);
    // å°†å¤´ç»“ç‚¹æ¨å…¥ä¼˜å…ˆé˜Ÿåˆ—
    for(let i = 0; i < lists.length; i++) 
        if(lists[i]) pq.enqueue(lists[i]);
    // å–å‡ºå€¼æœ€å°çš„èŠ‚ç‚¹ï¼Œå¦‚æœ next ä¸ä¸ºç©ºï¼Œç»§ç»­æ¨å…¥é˜Ÿåˆ—
    while(pq.getSize()) {
        let min = pq.dequeue();
        p.next = min;
        p = p.next;
        if(min.next) pq.enqueue(min.next);
    }
    return dummyHead.next;
};
```


# åŒç«¯é˜Ÿåˆ—åŠåº”ç”¨

## [#](http://47.98.159.95/leetcode-js/stack-queue/dequeue.html#ä»€ä¹ˆæ˜¯åŒç«¯é˜Ÿåˆ—ï¼Ÿ)ä»€ä¹ˆæ˜¯åŒç«¯é˜Ÿåˆ—ï¼Ÿ

åŒç«¯é˜Ÿåˆ—æ˜¯ä¸€ç§ç‰¹æ®Šçš„é˜Ÿåˆ—ï¼Œé¦–å°¾éƒ½å¯ä»¥æ·»åŠ æˆ–è€…åˆ é™¤å…ƒç´ ï¼Œæ˜¯ä¸€ç§åŠ å¼ºç‰ˆçš„é˜Ÿåˆ—ã€‚

JS ä¸­çš„æ•°ç»„å°±æ˜¯ä¸€ç§å…¸å‹çš„åŒç«¯é˜Ÿåˆ—ã€‚pushã€pop æ–¹æ³•åˆ†åˆ«ä»**å°¾éƒ¨**æ·»åŠ å’Œåˆ é™¤å…ƒç´ ï¼Œunshiftã€shift æ–¹æ³•åˆ†åˆ«ä»**é¦–éƒ¨**æ·»åŠ å’Œåˆ é™¤å…ƒç´ ã€‚

## [#](http://47.98.159.95/leetcode-js/stack-queue/dequeue.html#æ»‘åŠ¨çª—å£æœ€å¤§å€¼)æ»‘åŠ¨çª—å£æœ€å¤§å€¼

ç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º k çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ k ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚

è¿”å›æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚

**ç¤ºä¾‹:**

```text
è¾“å…¥: nums = [1,3,-1,-3,5,3,6,7], å’Œ k = 3
è¾“å‡º: [3,3,5,5,6,7] 
è§£é‡Š: 

  æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
```
è¦æ±‚: æ—¶é—´å¤æ‚åº¦åº”ä¸ºçº¿æ€§ã€‚

æ¥æº: [LeetCodeç¬¬239é¢˜](https://leetcode-cn.com/problems/sliding-window-maximum/)

### [#](http://47.98.159.95/leetcode-js/stack-queue/dequeue.html#æ€è·¯)æ€è·¯

è¿™æ˜¯å…¸å‹åœ°ä½¿ç”¨åŒç«¯é˜Ÿåˆ—æ±‚è§£çš„é—®é¢˜ã€‚

å»ºç«‹ä¸€ä¸ªåŒç«¯é˜Ÿåˆ— windowï¼Œæ¯æ¬¡ push è¿›æ¥ä¸€ä¸ªæ–°çš„å€¼ï¼Œå°±å°† window ä¸­ç›®å‰`å‰é¢æ‰€æœ‰æ¯”å®ƒå°çš„å€¼`éƒ½åˆ é™¤ã€‚åˆ©ç”¨åŒç«¯é˜Ÿåˆ—çš„ç‰¹æ€§ï¼Œå¯ä»¥ä»åå¾€å‰éå†ï¼Œé‡åˆ°å°çš„å°±åˆ é™¤ä¹‹ï¼Œå¦åˆ™åœæ­¢ã€‚

è¿™æ ·å¯ä»¥ä¿è¯é˜Ÿé¦–å§‹ç»ˆæ˜¯æœ€å¤§å€¼ï¼Œå› æ­¤å¯»æ‰¾æœ€å¤§å€¼çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥é™åˆ° O(1)ã€‚ç”±äº window ä¸­ä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„å€¼è¢«æ·˜æ±°ï¼Œå› æ­¤æ•´ä½“çš„æ—¶é—´å¤æ‚åº¦æ˜¯çº¿æ€§çš„ã€‚

### [#](http://47.98.159.95/leetcode-js/stack-queue/dequeue.html#ä»£ç å®ç°)ä»£ç å®ç°

ä»£ç éå¸¸çš„ç®€æ´ï¼Œä½†æ˜¯å¦‚æœè¦å†™å‡º bug free çš„ä»£ç è¿˜æ˜¯æœ‰ç›¸å½“çš„éš¾åº¦çš„ï¼Œå¸Œæœ›ä½ èƒ½è‡ªå·±ç‹¬ç«‹å®ç°ä¸€éã€‚

```js
var maxSlidingWindow = function(nums, k) {
    // å¼‚å¸¸å¤„ç†
    if(nums.length === 0 || !k) return [];
    let window = [], res = [];
    for(let i = 0; i < nums.length; i++) {
        // å…ˆæŠŠæ»‘åŠ¨çª—å£ä¹‹å¤–çš„è¸¢å‡º
        if(window[0] !== undefined && window[0] <= i - k) window.shift();
        // ä¿è¯é˜Ÿé¦–æ˜¯æœ€å¤§çš„
        while(nums[window[window.length - 1]] <= nums[i])  window.pop();
        window.push(i);
        if(i >= k - 1) res.push(nums[window[0]]) 
    }
    return res;
};
```

# æ ˆå’Œé˜Ÿåˆ—çš„ç›¸äº’å®ç°

## [#](http://47.98.159.95/leetcode-js/stack-queue/stack-q.html#æ ˆå®ç°é˜Ÿåˆ—)æ ˆå®ç°é˜Ÿåˆ—

ä½¿ç”¨æ ˆå®ç°é˜Ÿåˆ—çš„ä¸‹åˆ—æ“ä½œï¼š

push(x) -- å°†ä¸€ä¸ªå…ƒç´ æ”¾å…¥é˜Ÿåˆ—çš„å°¾éƒ¨ã€‚ pop() -- ä»é˜Ÿåˆ—é¦–éƒ¨ç§»é™¤å…ƒç´ ã€‚ peek() -- è¿”å›é˜Ÿåˆ—é¦–éƒ¨çš„å…ƒç´ ã€‚ empty() -- è¿”å›é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚

**ç¤ºä¾‹**:

```js
let queue = new MyQueue();

queue.push(1);
queue.push(2);  
queue.peek();  // è¿”å› 1
queue.pop();   // è¿”å› 1
queue.empty(); // è¿”å› false
```

æ¥æº: [LeetCodeç¬¬232é¢˜](https://leetcode-cn.com/problems/implement-queue-using-stacks/)

### [#](http://47.98.159.95/leetcode-js/stack-queue/stack-q.html#æ€è·¯)æ€è·¯

æ—¢ç„¶æ ˆæ˜¯**å…ˆè¿›åå‡º**, è¦æƒ³å¾—åˆ°**å…ˆè¿›å…ˆå‡º**çš„æ•ˆæœï¼Œæˆ‘ä»¬ä¸å¦¨ç”¨ä¸¤ä¸ªæ ˆã€‚

å½“è¿›è¡Œ`push`æ“ä½œæ—¶ï¼Œpush åˆ° `stack1`ï¼Œè€Œè¿›è¡Œ`pop`å’Œ`peek`çš„æ“ä½œæ—¶ï¼Œæˆ‘ä»¬é€šè¿‡`stack2`ã€‚

å½“ç„¶è¿™å…¶ä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šæƒ…å†µï¼Œå°±æ˜¯`stack2`æ˜¯ç©ºï¼Œå¦‚ä½•æ¥è¿›è¡Œ`pop`å’Œ`peek`? å¾ˆç®€å•ï¼ŒæŠŠ`stack1`ä¸­çš„å…ƒç´ ä¾æ¬¡ pop å¹¶æ¨å…¥`stack2`ä¸­ï¼Œç„¶åæ­£å¸¸åœ°æ“ä½œ `stack2`å³å¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:

[![img](http://47.98.159.95/leetcode-js/stack-queue/002.jpg)](http://47.98.159.95/leetcode-js/stack-queue/002.jpg)

è¿™å°±å°±èƒ½ä¿è¯å…ˆå…¥å…ˆå‡ºçš„æ•ˆæœäº†ã€‚

### [#](http://47.98.159.95/leetcode-js/stack-queue/stack-q.html#ä»£ç å®ç°)ä»£ç å®ç°

```js
var MyQueue = function() {
    this.stack1 = [];
    this.stack2 = [];
};

MyQueue.prototype.push = function(x) {
    this.stack1.push(x);
};
// å°† stack1 çš„å…ƒç´ è½¬ç§»åˆ° stack2
MyQueue.prototype.transform = function() {
  while(this.stack1.length) {
    this.stack2.push(this.stack1.pop());
  }
}

MyQueue.prototype.pop = function() {
  if(!this.stack2.length) this.transform();
  return this.stack2.pop();
};

MyQueue.prototype.peek = function() {
    if(!this.stack2.length) this.transform();
    return this.stack2[this.stack2.length - 1];
};

MyQueue.prototype.empty = function() {
    return !this.stack1.length && !this.stack2.length;
};
```



## [#](http://47.98.159.95/leetcode-js/stack-queue/stack-q.html#é˜Ÿåˆ—å®ç°æ ˆ)é˜Ÿåˆ—å®ç°æ ˆ

å’Œä¸Šä¸€é¢˜çš„æ•ˆæœåˆšå¥½ç›¸åï¼Œç”¨é˜Ÿåˆ—`å…ˆè¿›å…ˆå‡º`çš„æ–¹å¼æ¥å®ç°`å…ˆè¿›åå‡º`çš„æ•ˆæœã€‚

### [#](http://47.98.159.95/leetcode-js/stack-queue/stack-q.html#æ€è·¯-2)æ€è·¯

[![img](http://47.98.159.95/leetcode-js/stack-queue/003.jpg)](http://47.98.159.95/leetcode-js/stack-queue/003.jpg)

ä»¥ä¸Šé¢çš„é˜Ÿåˆ—ä¸ºä¾‹ï¼Œpush æ“ä½œå¥½è¯´ï¼Œç›´æ¥ä»åœ¨é˜Ÿåˆ—æœ«å°¾æ¨å…¥ã€‚ä½† pop å’Œ peek å‘¢ï¼Ÿ

å›åˆ°æˆ‘ä»¬çš„ç›®æ ‡ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‹¿åˆ°é˜Ÿå°¾çš„å€¼ï¼Œä¹Ÿå°±æ˜¯`3`ã€‚è¿™å°±å¥½åŠäº†ï¼Œæˆ‘ä»¬è®©å‰é¢çš„å…ƒç´ ç»Ÿç»Ÿå‡ºé˜Ÿï¼Œåªç•™é˜Ÿå°¾å…ƒç´ å³å¯ï¼Œå‰©ä¸‹çš„å…ƒç´ è®©å¦å¤–ä¸€ä¸ªé˜Ÿåˆ—ä¿å­˜ã€‚

[![img](http://47.98.159.95/leetcode-js/stack-queue/004.jpg)](http://47.98.159.95/leetcode-js/stack-queue/004.jpg)

æ¥æº: [LeetCodeç¬¬225é¢˜](https://leetcode-cn.com/problems/implement-stack-using-queues/)

### [#](http://47.98.159.95/leetcode-js/stack-queue/stack-q.html#ä»£ç å®ç°-2)ä»£ç å®ç°

å®ç°è¿‡ç¨‹ä¸­ï¼Œå€¼å¾—æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œ`queue1 å§‹ç»ˆä¿å­˜å‰é¢çš„å…ƒç´ ï¼Œqueue2 å§‹ç»ˆä¿å­˜é˜Ÿå°¾å…ƒç´ ï¼ˆå³æ ˆé¡¶å…ƒç´  ï¼‰`ã€‚

ä½†æ˜¯å½“ push çš„æ—¶å€™æœ‰ä¸€ä¸ªé™·é˜±ï¼Œå°±æ˜¯å½“`queue2`å·²ç»æœ‰å…ƒç´ çš„æ—¶å€™ï¼Œä¸èƒ½å°†æ–°å€¼ push åˆ° `queue1`ï¼Œå› ä¸ºæ­¤æ—¶çš„**æ ˆé¡¶å…ƒç´ **åº”è¯¥æ›´æ–°ã€‚æ­¤æ—¶å¯¹äºæ–°çš„å€¼æ¥è¯´ï¼Œåº”å…ˆ push åˆ° queue2ï¼Œ ç„¶åå°†`æ—§çš„æ ˆé¡¶`ä»queue2å‡ºé˜Ÿï¼Œæ¨å…¥ `queue1`ï¼Œè¿™æ ·å°±å®ç°äº†**æ›´æ–°æ ˆé¡¶**çš„æ“ä½œã€‚

```js
var MyStack = function() {
    this.queue1 = [];
    this.queue2 = [];
};
MyStack.prototype.push = function(x) {
    if(!this.queue2.length) this.queue1.push(x);
    else {
        // queue2 å·²ç»æœ‰å€¼
        this.queue2.push(x);
        // æ—§çš„æ ˆé¡¶ç§»åˆ° queue1 ä¸­
        this.queue1.push(this.queue2.shift());
    }

};
MyStack.prototype.transform = function() {
    while(this.queue1.length !== 1) {
        this.queue2.push(this.queue1.shift())
    }
    // queue2 ä¿å­˜äº†å‰é¢çš„å…ƒç´ 
    // è®© queue1 å’Œ queue2 äº¤æ¢
    // ç°åœ¨queue1 åŒ…å«å‰é¢çš„å…ƒç´ ï¼Œqueue2 é‡Œé¢å°±åªåŒ…å«é˜Ÿå°¾çš„å…ƒç´ 
    let tmp = this.queue1;
    this.queue1 = this.queue2;
    this.queue2 = tmp;
}
MyStack.prototype.pop = function() {
    if(!this.queue2.length) this.transform();
    return this.queue2.shift();
};
MyStack.prototype.top = function() {
    if(!this.queue2.length) this.transform();
    return this.queue2[0];
};
MyStack.prototype.empty = function() {
    return !this.queue1.length && !this.queue2.length;
};
```



### **å“ˆå¸Œè¡¨ç¯‡** 



# n æ•°ä¹‹å’Œ

## [#](http://47.98.159.95/leetcode-js/hashmap/nums.html#ä¸¤æ•°ä¹‹å’Œ)ä¸¤æ•°ä¹‹å’Œ

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚

ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚

**ç¤ºä¾‹**:

```text
ç»™å®š nums = [2, 7, 11, 15], target = 9

å› ä¸º nums[0] + nums[1] = 2 + 7 = 9
æ‰€ä»¥è¿”å› [0, 1]
```

æ¥æº: [LeetCodeç¬¬1é¢˜](https://leetcode-cn.com/problems/two-sum/submissions/)

### [#](http://47.98.159.95/leetcode-js/hashmap/nums.html#ä»£ç å®ç°)ä»£ç å®ç°

å…¶å®æ˜¯éå¸¸ç®€å•çš„ä¸€é“é¢˜ç›®ã€‚å¦‚æœæ²¡æœ‰æ¥è§¦è¿‡å“ˆå¸Œè¡¨çš„è¯ï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯åŒå±‚å¾ªç¯æš´åŠ›è§£å†³ï¼Œä¸è¿‡æ— ç–‘æ•ˆç‡æ˜¯éå¸¸ä½çš„ï¼Œåˆ©ç”¨å“ˆå¸Œè¡¨æˆ‘ä»¬å¯ä»¥å°†æ—¶é—´å¤æ‚åº¦é™åˆ° O(n)ã€‚

```js
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number[]}
 */
var twoSum = function(nums, target) {
    let map = {};
    for(let i = 0; i < nums.length; i++) {
        if(map[nums[i]] !== undefined) return [i, map[nums[i]]];
        else map[target - nums[i]] = i;
    }
};
```

1
2
3
4
5
6
7
8
9
10
11
12

## [#](http://47.98.159.95/leetcode-js/hashmap/nums.html#ä¸‰æ•°ä¹‹å’Œ)ä¸‰æ•°ä¹‹å’Œ

ç»™å®šä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿæ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚

æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

**ç¤ºä¾‹:**

```text
ç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼Œ

æ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š
[
  [-1, 0, 1],
  [-1, -1, 2]
]
```

1
2
3
4
5
6
7

æ¥æº: [LeetCodeç¬¬15é¢˜](https://leetcode-cn.com/problems/3sum/)

### [#](http://47.98.159.95/leetcode-js/hashmap/nums.html#æ€è·¯åˆ†æ)æ€è·¯åˆ†æ

å’‹ä¸€çœ‹ï¼Œè¿™ä¸€é¢˜ä¹Ÿå¯ä»¥ç”¨ä¸‰é‡å¾ªç¯æ¥æš´åŠ›è§£å†³ï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„ï¼Œä¸è¿‡æ˜¾ç„¶å¯ä»¥ç”¨å…¶ä»–çš„æ–¹å¼ä¼˜åŒ–ã€‚

**æ–¹å¼ä¸€: å“ˆå¸Œè¡¨**ï¼šæˆ‘ä»¬å…ˆçœ‹çœ‹å“ˆå¸Œè¡¨æ€ä¹ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚é¦–å…ˆéå†æ•°ç»„ï¼Œæ‹¿åˆ°æ•°ç»„çš„ä¸€é¡¹ nums[i]ï¼Œ å‰©ä¸‹çš„é—®é¢˜å°±æ˜¯æ‰¾åˆ°å’Œä¸º 0 - nums[i] çš„ä¸¤ä¸ªæ•°å•¦ï¼Œå¯¹äºæ•°ç»„ä¸­åé¢çš„å…ƒç´ å°±å¯ä»¥ä½¿ç”¨**ä¸¤æ•°ä¹‹å’Œ**å»ºç«‹å“ˆå¸Œè¡¨çš„æ–¹å¼æ¥å®Œæˆã€‚

**æ–¹å¼äºŒ: åŒæŒ‡é’ˆ**: è¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯å…ˆæ’å¥½åºï¼Œç„¶ååœ¨å¯»æ‰¾å’Œä¸º 0 - nums[i] çš„ä¸¤ä¸ªæ•°çš„æ—¶å€™ï¼Œé€šè¿‡**åŒæŒ‡é’ˆ**æ¥å®Œæˆï¼Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ nums[i + 1], å¦ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ nums ä¸­æœ€åä¸€ä¸ªå…ƒç´ ï¼Œè®¡ç®—å‡ºä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å…ƒç´ çš„å’Œï¼Œå¦‚æœå’Œå°äº 0 - nums[i]ï¼Œåˆ™ç§»åŠ¨æŠŠè¾ƒå°å…ƒç´ çš„æŒ‡é’ˆå‘åç§»ï¼Œåä¹‹æŠŠè¾ƒå¤§å…ƒç´ çš„æŒ‡é’ˆå‘å‰ç§»ï¼Œä»¥è¾¾åˆ°é€¼è¿‘ç»“æœçš„æ•ˆæœã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä¸€ä¸€å®ç°:

### [#](http://47.98.159.95/leetcode-js/hashmap/nums.html#ä»£ç å®ç°-2)ä»£ç å®ç°

å“ˆå¸Œè¡¨çš„æ–¹å¼:

```js
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var threeSum = function(nums) {
    let res = [];
    let set = new Set();
    for(let i = 0; i < nums.length - 2; i++) {
        if(i >= 1 && nums[i] === nums[i - 1]) continue;
        // map çš„ key è¡¨ç¤º: å…¶ä»–ä¸¤ä¸ªæ•°éƒ½å‡†å¤‡å¥½äº†å“ˆï¼Œå°±å·®è¿™ä¸€ä¸ªkeyäº†ã€‚
        let map = {};
        for(let j = i + 1; j < nums.length; j++) {
            if(map[nums[j]]) {
                let arr = [nums[i], nums[j], 0 - nums[i] - nums[j]]
                arr.sort();
                // Set æ²¡æ³•å¯¹å¼•ç”¨ç±»å‹å»é‡ï¼Œå› æ­¤é‡‡ç”¨è¿™æ ·çš„æ–¹å¼å¤„ç†å»é‡é—®é¢˜
                set.add(arr.toString())
            } else {
                // ä¸¤ä¸ªæ•°éƒ½å‡†å¤‡å¥½äº†ï¼Œçœ‹ç¬¬ä¸‰ä¸ªæ•°åœ¨ä¸åœ¨ï¼ŒæŠŠ key è®¾æˆç¬¬ä¸‰ä¸ªæ•°é¸­
                map[0 - nums[i] - nums[j]] = 1;
            }
        }
    }
    set.forEach(item => {
        // è¿˜åŸæ•°ç»„
        res.push(item.split(','));
    });
    return res;

};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30

å¾ˆå¯æƒœçš„æ˜¯ï¼Œè¿™æ®µç¨‹åºä¸€ç›´æ²¡æœ‰é€šè¿‡ LeetCode çš„æ—¶é—´æµ‹è¯•ï¼Œæ€»æ˜¯å¡åœ¨æœ€åä¸‰ä¸ªç”¨ä¾‹ï¼Œä¸è¿‡ä¹Ÿç®—æ˜¯ç”¨å“ˆå¸Œè¡¨æ­£ç¡®åœ°å®ç°äº†åŠŸèƒ½ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±ç»§ç»­å°è¯•ä¸€ä¸‹ã€‚

æ¥ä¸‹æ¥æ˜¯å®˜æ–¹éå¸¸æ¨å´‡çš„ä¸€ç§æ–¹æ³•: **åŒæŒ‡é’ˆ**ã€‚æˆ‘è¯•ç€å®ç°äº†ä¸€æ³¢ï¼ŒæˆåŠŸé€šè¿‡äº†æµ‹è¯•ï¼Œå¹¶ä¸”è¶…è¿‡ JavaScript ä¸­ 99% çš„ç”¨æˆ·ã€‚è®©æˆ‘ä»¬æ¥ç§ç§è¿™ç§æ–¹æ³•åˆ°åº•æœ‰å¤šä¹ˆç¥å¥‡:

```js
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var threeSum = function(nums) {
    // é¦–å…ˆè¦æ’åº
    nums.sort((a, b) => a - b);
    let map = {}, res = [];
    // ä¼˜åŒ–1: æ•°ç»„å…¨æ­£æˆ–å…¨è´Ÿï¼Œç›´æ¥è¿”å›[]
    if(nums[0] > 0 || nums[nums.length - 1] < 0) 
        return [];
    for(let i = 0; i < nums.length - 2; i++) {
        if(i >= 1 && nums[i] === nums[i - 1]) continue;
        // ä¼˜åŒ–2: é‡åˆ°æ­£æ•°ï¼Œåé¢ä¸ç”¨çœ‹äº†ï¼Œä¸ä¼šæœ‰ç­‰äº0çš„æƒ…å†µäº†
        if(nums[i] > 0) break;
        let target = 0 - nums[i];
        let start = i + 1, end = nums.length - 1;
        // å¼€å§‹åŒæŒ‡é’ˆå¤„ç†
        while(start < end) {
            let cur = nums[start] + nums[end];
            if(cur < target) start++;
            else if(cur > target) end--;
            else {
                res.push([nums[i], nums[start], nums[end]]);
                // å»é‡ï¼Œéå¸¸é‡è¦
                while(start < end && nums[start + 1] === nums[start]) start ++;
                while(start < end && nums[end - 1] === nums[end]) end--;
                start ++; end --;
            }
        }
    }
    return res;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33

## [#](http://47.98.159.95/leetcode-js/hashmap/nums.html#å››æ•°ä¹‹å’Œ)å››æ•°ä¹‹å’Œ

ç»™å®šä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨å››ä¸ªå…ƒç´  aï¼Œbï¼Œc å’Œ d ï¼Œä½¿å¾— a + b + c + d çš„å€¼ä¸ target ç›¸ç­‰ï¼Ÿæ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„å››å…ƒç»„ã€‚

æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„å››å…ƒç»„ã€‚

**ç¤ºä¾‹ï¼š**

ç»™å®šæ•°ç»„ nums = [1, 0, -1, 0, -2, 2]ï¼Œå’Œ target = 0ã€‚

æ»¡è¶³è¦æ±‚çš„å››å…ƒç»„é›†åˆä¸ºï¼š [ [-1, 0, 0, 1], [-2, -1, 1, 2], [-2, 0, 0, 2] ]

æ¥æº: [LeetCodeç¬¬18é¢˜](https://leetcode-cn.com/problems/4sum/)

### [#](http://47.98.159.95/leetcode-js/hashmap/nums.html#ä»£ç å®ç°-3)ä»£ç å®ç°

æœ‰äº†**ä¸‰æ•°ä¹‹å’Œ**é—®é¢˜ä½œé“ºå«ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜ç®€ç›´æ˜¯å°èœä¸€ç¢Ÿäº†ã€‚

```js
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number[][]}
 */
var fourSum = function(nums, k) {
    // é¦–å…ˆè¦æ’åº
    nums.sort((a, b) => a - b);
    let res = [];
    for(let i = 0; i < nums.length - 3; i++) {
        if(i > 0 && nums[i] === nums[i - 1]) continue;
        for(let index = i + 1; index < nums.length - 2; index++) {
            if(index > i + 1 && nums[index] === nums[index - 1]) continue;
            let target = k - nums[i] - nums[index];
            let start = index + 1, end = nums.length - 1;
            // å¼€å§‹åŒæŒ‡é’ˆå¤„ç†
            while(start < end) {
                let cur = nums[start] + nums[end];
                if(cur < target) start++;
                else if(cur > target) end--;
                else {
                    res.push([nums[i],nums[index],nums[start], nums[end]]);
                    // å»é‡ï¼Œéå¸¸é‡è¦
                    while(start < end && nums[start + 1] === nums[start]) start ++;
                    while(start < end && nums[end - 1] === nums[end]) end--;
                    start ++; end --;
                }
            }
        }

    }
    return res;
};
```



### **äºŒå‰æ ‘ç¯‡**

# äºŒå‰æ ‘çš„éå†

## [#](http://47.98.159.95/leetcode-js/btree/traverse.html#å‰åºéå†)å‰åºéå†

**ç¤ºä¾‹:**

```text
ç¤ºä¾‹:

è¾“å…¥: [1,null,2,3]  
   1
    \
     2
    /
   3 

è¾“å‡º: [1,2,3]
```

1
2
3
4
5
6
7
8
9
10

æ¥æº: [LeetCodeç¬¬144é¢˜](https://leetcode-cn.com/problems/binary-tree-preorder-traversal/)

### [#](http://47.98.159.95/leetcode-js/btree/traverse.html#é€’å½’æ–¹å¼)é€’å½’æ–¹å¼

```js
/**
 * @param {TreeNode} root
 * @return {number[]}
 */
var preorderTraversal = function(root) {
    let arr = [];
    let traverse = (root) => {
      if(root == null) return;
      arr.push(root.val);
      traverse(root.left);
      traverse(root.right); 
    }
    traverse(root);
    return arr;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15

### [#](http://47.98.159.95/leetcode-js/btree/traverse.html#éé€’å½’æ–¹å¼)éé€’å½’æ–¹å¼

```js
var preorderTraversal = function(root) {
    if(root == null) return [];
    let stack = [], res = [];
    stack.push(root);
    while(stack.length) {
        let node = stack.pop();
        res.push(node.val);
        // å·¦å­©å­åè¿›å…ˆå‡ºï¼Œè¿›è¡Œå…ˆå·¦åå³çš„æ·±åº¦ä¼˜å…ˆéå†
        if(node.right) stack.push(node.right);
        if(node.left) stack.push(node.left);
    }
    return res;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13

## [#](http://47.98.159.95/leetcode-js/btree/traverse.html#ä¸­åºéå†)ä¸­åºéå†

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å®ƒçš„ä¸­åº éå†ã€‚

ç¤ºä¾‹:

```text
è¾“å…¥: [1,null,2,3]
   1
    \
     2
    /
   3
è¾“å‡º: [1,3,2]
```

1
2
3
4
5
6
7

æ¥æº: [LeetCodeç¬¬94é¢˜](https://leetcode-cn.com/problems/binary-tree-inorder-traversal/)

### [#](http://47.98.159.95/leetcode-js/btree/traverse.html#é€’å½’æ–¹å¼-2)é€’å½’æ–¹å¼:

```js
/**
 * @param {TreeNode} root
 * @return {number[]}
 */
var inorderTraversal = function(root) {
    let arr = [];
    let traverse = (root) => {
      if(root == null) return;
      traverse(root.left);
      arr.push(root.val);
      traverse(root.right); 
    }
    traverse(root);
    return arr;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15

### [#](http://47.98.159.95/leetcode-js/btree/traverse.html#éé€’å½’æ–¹å¼-2)éé€’å½’æ–¹å¼

```js
var inorderTraversal = function(root) {
    if(root == null) return [];
    let stack = [], res = [];
    let p = root;
    while(stack.length || p) {
        while(p) {
            stack.push(p);
            p = p.left;
        }
        let node = stack.pop();
        res.push(node.val);
        p = node.right;
    }   
    return res;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15

## [#](http://47.98.159.95/leetcode-js/btree/traverse.html#ååºéå†)ååºéå†

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å®ƒçš„ ååº éå†ã€‚

ç¤ºä¾‹:

```text
è¾“å…¥: [1,null,2,3]  

   1
    \
     2
    /
   3 

è¾“å‡º: [3,2,1]
```

1
2
3
4
5
6
7
8
9

æ¥æº: [LeetCodeç¬¬145é¢˜](https://leetcode-cn.com/problems/binary-tree-postorder-traversal/)

### [#](http://47.98.159.95/leetcode-js/btree/traverse.html#é€’å½’æ–¹å¼-3)é€’å½’æ–¹å¼

```js
/**
 * @param {TreeNode} root
 * @return {number[]}
 */
var postorderTraversal = function(root) {
    let arr = [];
    let traverse = (root) => {
      if(root == null) return;
      traverse(root.left);
      traverse(root.right);
      arr.push(root.val);
    }
    traverse(root);
    return arr
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15

### [#](http://47.98.159.95/leetcode-js/btree/traverse.html#éé€’å½’æ–¹å¼-3)éé€’å½’æ–¹å¼

```js
var postorderTraversal = function(root) {
    if(root == null) return [];
    let stack = [], res = [];
    let visited = new Set();
    let p = root;
    while(stack.length || p) {
        while(p) {
            stack.push(p);
            p = p.left;
        }
        let node = stack[stack.length - 1];
        // å¦‚æœå³å­©å­å­˜åœ¨ï¼Œè€Œä¸”å³å­©å­æœªè¢«è®¿é—®
        if(node.right && !visited.has(node.right)) {
            p = node.right;
            visited.add(node.right);
        } else {
            res.push(node.val);
            stack.pop();
        }
    }
    return res;
};
```





# æœ€å¤§/æœ€å°æ·±åº¦

## [#](http://47.98.159.95/leetcode-js/btree/depth.html#æœ€å¤§æ·±åº¦)æœ€å¤§æ·±åº¦

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å¤§æ·±åº¦ã€‚

äºŒå‰æ ‘çš„æ·±åº¦ä¸ºæ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚

**è¯´æ˜:** å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹ï¼š** ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]ï¼š

```text
    3
   / \
  9  20
    /  \
   15   7
```

1
2
3
4
5

è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚ æ¥æº: [LeetCodeç¬¬104é¢˜](https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/)

### [#](http://47.98.159.95/leetcode-js/btree/depth.html#é€’å½’å®ç°)é€’å½’å®ç°

å®ç°éå¸¸ç®€å•ï¼Œç›´æ¥è´´å‡ºä»£ç :

```js
/**
 * @param {TreeNode} root
 * @return {number}
 */
var maxDepth = function(root) {
    // é€’å½’ç»ˆæ­¢æ¡ä»¶ 
    if(root == null) return 0;
    return Math.max(maxDepth(root.left) + 1, maxDepth(root.right) + 1);
};
```

1
2
3
4
5
6
7
8
9

### [#](http://47.98.159.95/leetcode-js/btree/depth.html#éé€’å½’å®ç°)éé€’å½’å®ç°

é‡‡ç”¨å±‚åºéå†çš„æ–¹å¼ï¼Œéå¸¸å¥½ç†è§£ã€‚

```js
var maxDepth = function(root) {
    if(root == null) return 0;
    let queue = [root];
    let level = 0;
    while(queue.length) {
        let size = queue.length;
        while(size --) {
            let front = queue.shift();
            if(front.left) queue.push(front.left);
            if(front.right) queue.push(front.right);
        }
        // level ++ åçš„å€¼ä»£è¡¨ç€ç°åœ¨å·²ç»å¤„ç†å®Œäº†å‡ å±‚èŠ‚ç‚¹
        level ++;
    }
    return level;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16

## [#](http://47.98.159.95/leetcode-js/btree/depth.html#æœ€å°æ·±åº¦)æœ€å°æ·±åº¦

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å°æ·±åº¦ã€‚

æœ€å°æ·±åº¦æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿‘å¶å­èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°é‡ã€‚

**è¯´æ˜:** å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹:**

ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]:

```text
    3
   / \
  9  20
    /  \
   15   7
```

1
2
3
4
5

è¿”å›å®ƒçš„æœ€å°æ·±åº¦ 2.

æ¥æº: [LeetCodeç¬¬111é¢˜](https://leetcode-cn.com/problems/minimum-depth-of-binary-tree/)

### [#](http://47.98.159.95/leetcode-js/btree/depth.html#é€’å½’å®ç°-2)é€’å½’å®ç°

åœ¨å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŒ‰ç…§æœ€å¤§æ·±åº¦çš„æ–¹å¼æ¥åšä¼šå‡ºç°ä¸€ä¸ªé™·é˜±ï¼Œå³:

```js
/**
 * @param {TreeNode} root
 * @return {number}
 */
var minDepth = function(root) {
    // é€’å½’ç»ˆæ­¢æ¡ä»¶ 
    if(root == null) return 0;
    return Math.min(minDepth(root.left) + 1, minDepth(root.right)+1);
};
```

1
2
3
4
5
6
7
8
9

å½“ root èŠ‚ç‚¹æœ‰ä¸€ä¸ªå­©å­ä¸ºç©ºçš„æ—¶å€™ï¼Œæ­¤æ—¶è¿”å›çš„æ˜¯ 1ï¼Œ ä½†è¿™æ˜¯ä¸å¯¹çš„ï¼Œæœ€å°é«˜åº¦æŒ‡çš„æ˜¯**æ ¹èŠ‚ç‚¹åˆ°æœ€è¿‘å¶å­èŠ‚ç‚¹**çš„æœ€å°è·¯å¾„ï¼Œè€Œä¸æ˜¯åˆ°ä¸€ä¸ªç©ºèŠ‚ç‚¹çš„è·¯å¾„ã€‚

å› æ­¤æˆ‘ä»¬éœ€è¦åšå¦‚ä¸‹çš„è°ƒæ•´:

```js
var minDepth = function(root) {
    if(root == null) return 0;
    // å·¦å³å­©å­éƒ½ä¸ä¸ºç©ºæ‰èƒ½åƒåˆšæ‰é‚£æ ·è°ƒç”¨
    if(root.left && root.right)
        return Math.min(minDepth(root.left), minDepth(root.right)) + 1;
    // å³å­©å­ä¸ºç©ºäº†ï¼Œç›´æ¥å¿½ç•¥ä¹‹
    else if(root.left)
        return minDepth(root.left) + 1;
    // å·¦å­©å­ä¸ºç©ºï¼Œå¿½ç•¥
    else if(root.right)
        return minDepth(root.right) + 1;
    // ä¸¤ä¸ªå­©å­éƒ½ä¸ºç©ºï¼Œè¯´æ˜åˆ°è¾¾äº†å¶å­èŠ‚ç‚¹ï¼Œè¿”å› 1
    else return 1;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14

è¿™æ ·ç¨‹åºä¾¿èƒ½æ­£å¸¸å·¥ä½œäº†ã€‚

### [#](http://47.98.159.95/leetcode-js/btree/depth.html#éé€’å½’å®ç°-2)éé€’å½’å®ç°

ç±»ä¼¼äº`æœ€å¤§é«˜åº¦`é—®é¢˜ï¼Œé‡‡ç”¨äº†å±‚åºéå†çš„æ–¹å¼ï¼Œå¾ˆå®¹æ˜“ç†è§£ã€‚

```js
var minDepth = function(root) {
    if(root == null) return 0;
    let queue = [root];
    let level = 0;
    while(queue.length) {
        let size = queue.length;
        while(size --) {
            let front = queue.shift();
            // æ‰¾åˆ°å¶å­èŠ‚ç‚¹
            if(!front.left && !front.right) return level + 1;
            if(front.left) queue.push(front.left);
            if(front.right) queue.push(front.right);
        }
        // level ++ åçš„å€¼ä»£è¡¨ç€ç°åœ¨å·²ç»å¤„ç†å®Œäº†å‡ å±‚èŠ‚ç‚¹
        level ++;
    }
    return level;
};
```





# LCA é—®é¢˜

LCA (Lowest Common Ancestor)å³æœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜ã€‚

> ç™¾åº¦ç™¾ç§‘ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆï¼‰ã€‚â€

## [#](http://47.98.159.95/leetcode-js/btree/lca.html#äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ)äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ

å¯¹äºä¸€ä¸ªæ™®é€šçš„äºŒå‰æ ‘: root = [3,5,1,6,2,0,8,null,null,7,4]

[![img](http://47.98.159.95/leetcode-js/btree/001.png)](http://47.98.159.95/leetcode-js/btree/001.png)

```text
è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1
è¾“å‡º: 3
è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3ã€‚
```

1
2
3

æ¥æº: [LeetCodeç¬¬236é¢˜](https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/)

### [#](http://47.98.159.95/leetcode-js/btree/lca.html#æ€è·¯åˆ†æ)æ€è·¯åˆ†æ

æ€è·¯ä¸€: é¦–å…ˆéå†ä¸€éäºŒå‰æ ‘ï¼Œè®°å½•ä¸‹æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚ç„¶åå¯¹äºé¢˜ç›®ç»™çš„ p èŠ‚ç‚¹ï¼Œæ ¹æ®è¿™ä¸ªè®°å½•è¡¨ä¸æ–­çš„æ‰¾ p çš„ä¸Šå±‚èŠ‚ç‚¹ï¼Œç›´åˆ°æ ¹ï¼Œè®°å½•ä¸‹ p çš„**ä¸Šå±‚èŠ‚ç‚¹é›†åˆ**ã€‚ç„¶åå¯¹äº q èŠ‚ç‚¹ï¼Œæ ¹æ®è®°å½•ä¸æ–­å‘ä¸Šæ‰¾å®ƒçš„ä¸Šå±‚èŠ‚ç‚¹ï¼Œåœ¨å¯»æ‰¾çš„è¿‡ç¨‹ä¸­ä¸€æ—¦å‘ç°**è¿™ä¸ªä¸Šå±‚èŠ‚ç‚¹å·²ç»åŒ…å«åœ¨åˆšåˆšçš„é›†åˆ**ä¸­ï¼Œè¯´æ˜å‘ç°äº†æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œç›´æ¥è¿”å›ã€‚

æ€è·¯äºŒ: æ·±åº¦ä¼˜å…ˆéå†äºŒå‰æ ‘ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹ä¸º p æˆ–è€… qï¼Œç›´æ¥è¿”å›è¿™ä¸ªèŠ‚ç‚¹ï¼Œå¦åˆ™æŸ¥çœ‹å·¦å³å­©å­ï¼Œå·¦å­©å­ä¸­ä¸åŒ…å« p æˆ–è€… q åˆ™å»æ‰¾å³å­©å­ï¼Œå³å­©å­ä¸åŒ…å« p æˆ–è€… q å°±å»æ‰¾å·¦å­©å­ï¼Œå‰©ä¸‹çš„æƒ…å†µå°±æ˜¯**å·¦å³å­©å­ä¸­éƒ½å­˜åœ¨ p æˆ–è€… q**, é‚£ä¹ˆæ­¤æ—¶ç›´æ¥è¿”å›è¿™ä¸ªèŠ‚ç‚¹ã€‚

### [#](http://47.98.159.95/leetcode-js/btree/lca.html#ç¥–å…ˆèŠ‚ç‚¹é›†åˆæ³•)ç¥–å…ˆèŠ‚ç‚¹é›†åˆæ³•

```js
/**
 * @param {TreeNode} root
 * @param {TreeNode} p
 * @param {TreeNode} q
 * @return {TreeNode}
 */
var lowestCommonAncestor = function(root, p, q) {
    if(root == null || root == p || root == q) return root;
    let set = new Set();
    let map = new WeakMap();
    let queue = [];
    queue.push(root);
    // å±‚åºéå†
    while(queue.length) {
        let size = queue.length;
        while(size --) {
            let front = queue.shift();
            if(front.left) {
                queue.push(front.left);
                // è®°å½•çˆ¶äº²èŠ‚ç‚¹
                map.set(front.left, front);
            }
            if(front.right) {
                queue.push(front.right);
                // è®°å½•çˆ¶äº²èŠ‚ç‚¹
                map.set(front.right, front);
            }
        }
    }
    // æ„é€  p çš„ä¸Šå±‚èŠ‚ç‚¹é›†åˆ
    while(p) {
        set.add(p);
        p = map.get(p);
    }
    while(q) {
        // ä¸€æ—¦å‘ç°å…¬å…±èŠ‚ç‚¹é‡åˆï¼Œç›´æ¥è¿”å›
        if(set.has(q))return q;
        q = map.get(q);
    }
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40

å¯ä»¥çœ‹åˆ°æ•´æ£µäºŒå‰æ ‘éå†äº†ä¸€éï¼Œæ—¶é—´å¤æ‚åº¦å¤§è‡´æ˜¯ O(n)ï¼Œä½†æ˜¯ç”±äºå“ˆå¸Œè¡¨çš„å­˜åœ¨ï¼Œç©ºé—´å¤æ‚åº¦æ¯”è¾ƒé«˜ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥ç”¨å¦ä¸€ç§éå†çš„æ–¹å¼ï¼Œå¯ä»¥å¤§å¤§å‡å°‘ç©ºé—´çš„å¼€é”€ã€‚

### [#](http://47.98.159.95/leetcode-js/btree/lca.html#æ·±åº¦ä¼˜å…ˆéå†æ³•)æ·±åº¦ä¼˜å…ˆéå†æ³•

ä»£ç éå¸¸ç®€æ´ã€ç¾è§‚ï¼Œä¸è¿‡æ›´é‡è¦çš„æ˜¯ä½“ä¼šå…¶ä¸­é€’å½’è°ƒç”¨çš„è¿‡ç¨‹ï¼Œä»£ç æ˜¯è‡ªé¡¶å‘ä¸‹æ‰§è¡Œçš„ï¼Œæˆ‘å»ºè®®å¤§å®¶ç”¨**è‡ªåº•å‘ä¸Š**çš„æ–¹å¼æ¥ç†è§£å®ƒï¼Œå³ä»æœ€å·¦ä¸‹çš„èŠ‚ç‚¹å¼€å§‹åˆ†æï¼Œç›¸ä¿¡ä½ ä¼šå¾ˆå¥½çš„ç†è§£æ•´ä¸ªè¿‡ç¨‹ã€‚

```js
var lowestCommonAncestor = function(root, p, q) {
    if (root == null || root == p || root == q) return root;
    let left = lowestCommonAncestor(root.left, p, q);
    let right = lowestCommonAncestor(root.right, p, q);
    if(left == null) return right;
    else if(right == null) return left;
    return root;
};
```

1
2
3
4
5
6
7
8

## [#](http://47.98.159.95/leetcode-js/btree/lca.html#äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ)äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ

ç»™å®šå¦‚ä¸‹äºŒå‰æœç´¢æ ‘: root = [6,2,8,0,4,7,9,null,null,3,5]

```text
è¾“å…¥: root = [6,2,8,0,4,7,9,null,null,3,5], p = 2, q = 8
è¾“å‡º: 6 
è§£é‡Š: èŠ‚ç‚¹ 2 å’ŒèŠ‚ç‚¹ 8 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ 6ã€‚
```

1
2
3

æ¥æº: [LeetCodeç¬¬235é¢˜](https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/)

### [#](http://47.98.159.95/leetcode-js/btree/lca.html#å®ç°)å®ç°

äºŒå‰æœç´¢æ ‘ä½œä¸ºä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œå½“ç„¶æ˜¯å¯ä»¥ç”¨ä¸Šè¿°çš„ä¸¤ç§æ–¹å¼æ¥å®ç°çš„ã€‚

ä¸è¿‡å€ŸåŠ©äºŒå‰æœç´¢æ ‘æœ‰åºçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å†™å‡ºå¦å¤–ä¸€ä¸ªç‰ˆæœ¬çš„æ·±åº¦ä¼˜åŒ–éå†ã€‚

```js
/**
 * @param {TreeNode} root
 * @param {TreeNode} p
 * @param {TreeNode} q
 * @return {TreeNode}
 */
var lowestCommonAncestor = function(root, p, q) {
    if(root == null || root == p || root == q) return root;
    // root.val æ¯” p å’Œ q éƒ½å¤§ï¼Œæ‰¾å·¦å­©å­
    if(root.val > p.val && root.val > q.val) 
        return lowestCommonAncestor(root.left, p, q);
    // root.val æ¯” p å’Œ q éƒ½å°ï¼Œæ‰¾å³å­©å­
    if(root.val < p.val && root.val < q.val) 
        return lowestCommonAncestor(root.right, p, q);
    else 
        return root;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17

åŒæ—¶ä¹Ÿå¯ä»¥é‡‡ç”¨éé€’å½’çš„æ–¹å¼:

```js
var lowestCommonAncestor = function(root, p, q) {
    let node = root;
    while(node) {
        if(p.val > node.val && q.val > node.val)
            node = node.right;
        else if(p.val < node.val && q.val < node.val) 
            node = node.left;
        else return node;
    }
};
```

1
2
3
4
5
6
7
8
9
10

æ˜¯ä¸æ˜¯è¢«äºŒå‰æ ‘ç²¾ç®€è€Œä¼˜é›…çš„ä»£ç æƒŠè‰³åˆ°äº†å‘¢ï¼Ÿå¸Œæœ›ä½ èƒ½å¥½å¥½ä½“ä¼šå…¶ä¸­éå†çš„è¿‡ç¨‹ï¼Œç„¶ååŠ¡å¿…è‡ªå·±ç‹¬ç«‹å®ç°ä¸€éï¼Œä¿è¯å¯¹è¿™ç§æ•°æ®ç»“æ„è¶³å¤Ÿç†Ÿæ‚‰ï¼Œå¢å¼ºè‡ªå·±çš„ç¼–ç¨‹å†…åŠ›ã€‚



# å¯¹ç§°äºŒå‰æ ‘

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æ˜¯é•œåƒå¯¹ç§°çš„ã€‚

ä¾‹å¦‚ï¼ŒäºŒå‰æ ‘ [1,2,2,3,4,4,3] æ˜¯å¯¹ç§°çš„ã€‚

```text
    1
   / \
  2   2
 / \ / \
3  4 4  3
```

1
2
3
4
5

ä½†æ˜¯ä¸‹é¢è¿™ä¸ª [1,2,2,null,3,null,3] åˆ™ä¸æ˜¯é•œåƒå¯¹ç§°çš„:

```text
    1
   / \
  2   2
   \   \
   3    3
```

1
2
3
4
5

æ¥æº: [LeetCodeç¬¬101é¢˜](https://leetcode-cn.com/problems/symmetric-tree/)

## [#](http://47.98.159.95/leetcode-js/btree/mirror.html#é€’å½’å®ç°)é€’å½’å®ç°

é€’å½’æ–¹å¼çš„ä»£ç æ˜¯éå¸¸å¹²ç»ƒå’Œä¼˜é›…çš„ï¼Œå¸Œæœ›ä½ å…ˆè‡ªå·±å®ç°ä¸€éï¼Œç„¶åå¯¹æ¯”æ”¹è¿›ã€‚

```js
/**
 * @param {TreeNode} root
 * @return {boolean}
 */
var isSymmetric = function(root) {
    let help = (node1, node2) => {
        // éƒ½ä¸ºç©º
        if(!node1 && !node2) return true;
        // ä¸€ä¸ªä¸ºç©ºä¸€ä¸ªä¸ä¸ºç©ºï¼Œæˆ–è€…ä¸¤ä¸ªèŠ‚ç‚¹å€¼ä¸ç›¸ç­‰
        if(!node1 || !node2 || node1.val !== node2.val) return false;
        return help(node1.left, node2.right) && help(node1.right, node2.left);
    }
    if(root == null) return true;
    return help(root.left, root.right);
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15

## [#](http://47.98.159.95/leetcode-js/btree/mirror.html#éé€’å½’å®ç°)éé€’å½’å®ç°

ç”¨ä¸€ä¸ªé˜Ÿåˆ—ä¿å­˜è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œæ¯æ¬¡å–å‡ºä¸¤ä¸ªèŠ‚ç‚¹ï¼Œè¿›è¡Œæ¯”è¾ƒã€‚

```js
var isSymmetric = function(root) {
    if(root == null) return true;
    let queue = [root.left, root.right];
    let node1, node2;
    while(queue.length) {
        node1 = queue.shift();
        node2 = queue.shift();
        // ä¸¤èŠ‚ç‚¹å‡ä¸ºç©º
        if(!node1 && !node2)continue;
        // ä¸€ä¸ªä¸ºç©ºä¸€ä¸ªä¸ä¸ºç©ºï¼Œæˆ–è€…ä¸¤ä¸ªèŠ‚ç‚¹å€¼ä¸ç›¸ç­‰
        if(!node1 || !node2 || node1.val !== node2.val) return false;
        queue.push(node1.left);
        queue.push(node2.right);
        queue.push(node1.right);
        queue.push(node2.left);
    }
    return true;
};
```

# äºŒå‰æ ‘ä¸­çš„è·¯å¾„é—®é¢˜

## [#](http://47.98.159.95/leetcode-js/btree/zhijing.html#no-1-äºŒå‰æ ‘çš„ç›´å¾„)No.1 äºŒå‰æ ‘çš„ç›´å¾„

ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œä½ éœ€è¦è®¡ç®—å®ƒçš„ç›´å¾„é•¿åº¦ã€‚ä¸€æ£µäºŒå‰æ ‘çš„ç›´å¾„é•¿åº¦æ˜¯ä»»æ„ä¸¤ä¸ªç»“ç‚¹è·¯å¾„é•¿åº¦ä¸­çš„æœ€å¤§å€¼ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç©¿è¿‡æ ¹ç»“ç‚¹ã€‚

ç¤ºä¾‹ : ç»™å®šäºŒå‰æ ‘

```text
          1
         / \
        2   3
       / \     
      4   5  
```

1
2
3
4
5

è¿”å› 3, å®ƒçš„é•¿åº¦æ˜¯è·¯å¾„ [4,2,1,3] æˆ–è€… [5,2,1,3]ã€‚

æ³¨æ„ï¼šä¸¤ç»“ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦æ˜¯ä»¥å®ƒä»¬ä¹‹é—´è¾¹çš„æ•°ç›®è¡¨ç¤ºã€‚

æ¥æº: [LeetCodeç¬¬543é¢˜](https://leetcode-cn.com/problems/diameter-of-binary-tree/)

### [#](http://47.98.159.95/leetcode-js/btree/zhijing.html#æ€è·¯)æ€è·¯

æ‰€è°“çš„`æ±‚ç›´å¾„`, æœ¬è´¨ä¸Šæ˜¯æ±‚æ ‘ä¸­èŠ‚ç‚¹å·¦å³å­æ ‘`é«˜åº¦å’Œçš„æœ€å¤§å€¼`ã€‚

æ³¨æ„ï¼Œè¿™é‡Œæˆ‘è¯´çš„æ˜¯`æ ‘ä¸­èŠ‚ç‚¹`, å¹¶éæ ¹èŠ‚ç‚¹ã€‚å› ä¸ºä¼šæœ‰è¿™æ ·ä¸€ç§æƒ…å†µ:

```text
          1
         / 
        2   
       / \     
      4   5
     /     \
    8       6
             \
              7
```

1
2
3
4
5
6
7
8
9

é‚£è¿™ä¸ªæ—¶å€™ï¼Œç›´å¾„æœ€å¤§çš„è·¯å¾„æ˜¯: 8 -> 4 -> 2-> 5 -> 6 -> 7ã€‚äº¤ç•Œçš„å…ƒç´ å¹¶ä¸æ˜¯æ ¹èŠ‚ç‚¹ã€‚è¿™æ˜¯è¿™ä¸ªé—®é¢˜ç‰¹åˆ«éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œä¸ç„¶æ— è§£ã€‚

### [#](http://47.98.159.95/leetcode-js/btree/zhijing.html#åˆæ­¥æ±‚è§£)åˆæ­¥æ±‚è§£

ç›®æ ‡å·²ç»ç¡®å®šäº†ï¼Œæ±‚æ ‘ä¸­èŠ‚ç‚¹å·¦å³å­æ ‘`é«˜åº¦å’Œçš„æœ€å¤§å€¼`ã€‚å¼€å¹²ï¼

```js
/**
 * @param {TreeNode} root
 * @return {number}
 */
var diameterOfBinaryTree = function(root) {
    // æ±‚æœ€å¤§æ·±åº¦
    let maxDepth = (node) => {
      if(node == null) return 0;
      return Math.max(maxDepth(node.left) + 1, maxDepth(node.right) + 1);
    }
    let help = (node) => {
        if(node == null) return 0;
        let rootSum = maxDepth(node.left) + maxDepth(node.right);
        let childSum = Math.max(help(node.left), help(node.right));
        return Math.max(rootSum, childSum);
    }
    if(root == null) return 0;
    return help(root);
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19

è¿™æ ·ä¸€æ®µä»£ç æ”¾åˆ° LeetCode æ˜¯å¯ä»¥é€šè¿‡ï¼Œä½†æ—¶é—´ä¸Šå´ä¸è®©äººå¾ˆæ»¡æ„ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

å› ä¸ºåœ¨åå¤è°ƒç”¨ maxDepth çš„è¿‡ç¨‹ï¼Œå¯¹æ ‘ä¸­çš„ä¸€äº›èŠ‚ç‚¹å¢åŠ äº†å¾ˆå¤šä¸å¿…è¦çš„è®¿é—®ã€‚æ¯”å¦‚ï¼š

```text
          1
         / 
        2   
       / \     
      4   5
     /     \
    8       6
             \
              7
```

1
2
3
4
5
6
7
8
9

æˆ‘ä»¬çœ‹ä»€ä¹ˆæ—¶å€™è®¿é—®èŠ‚ç‚¹ 8ï¼ŒmaxDepth(èŠ‚ç‚¹ 2)çš„æ—¶å€™è®¿é—®ï¼Œ maxDepth(èŠ‚ç‚¹ 4)çš„æ—¶å€™åˆä¼šè®¿é—®ï¼Œå¦‚æœèŠ‚ç‚¹å±‚çº§æ›´é«˜ï¼Œé‡å¤è®¿é—®çš„æ¬¡æ•°æ›´åŠ é¢‘ç¹ï¼Œå‰©ä¸‹çš„èŠ‚ç‚¹6ã€èŠ‚ç‚¹ 7 éƒ½æ˜¯åŒç†ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹è®¿é—®çš„æ¬¡æ•°å¤§æ¦‚æ˜¯ O(logK)(è®¾å½“å‰èŠ‚ç‚¹åœ¨ç¬¬ K å±‚)ã€‚é‚£èƒ½ä¸èƒ½æŠŠè¿™ä¸ªé¢‘ç‡é™åˆ° O(1) å‘¢ï¼Ÿ

ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä¼˜åŒ–è¿™ä¸ªç®—æ³•ã€‚

### [#](http://47.98.159.95/leetcode-js/btree/zhijing.html#ä¼˜åŒ–è§£æ³•)ä¼˜åŒ–è§£æ³•

```js
var diameterOfBinaryTree = function(root) {
    let help = (node) => {
        if(node == null) return 0;
        let left = node.left ? help(node.left) + 1: 0;
        let right = node.right ? help(node.right) + 1: 0;
        let cur = left + right;
        if(cur > max) max = cur; 
        // è¿™ä¸ªè¿”å›çš„æ“ä½œç›¸å½“å…³é”®
        return Math.max(left, right);
    }
    let max = 0;
    if(root == null) return 0;
    help(root);
    return max;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15

åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è®¾ç½®äº†ä¸€ä¸ª`max`å…¨å±€å˜é‡ï¼Œæ·±åº¦ä¼˜å…ˆéå†è¿™æ£µæ ‘ï¼Œæ¯éå†å®Œä¸€ä¸ªèŠ‚ç‚¹å°±æ›´æ–°`max`ï¼Œå¹¶é€šè¿‡è¿”å›å€¼çš„æ–¹å¼`è‡ªåº•å‘ä¸Š`æŠŠå½“å‰èŠ‚ç‚¹å·¦å³å­æ ‘çš„æœ€å¤§é«˜åº¦ä¼ ç»™çˆ¶å‡½æ•°ä½¿ç”¨ï¼Œä½¿å¾—æ¯ä¸ªèŠ‚ç‚¹åªéœ€è®¿é—®ä¸€æ¬¡å³å¯ã€‚

ç°åœ¨æäº¤æˆ‘ä»¬ä¼˜åŒ–åçš„ä»£ç ï¼Œæ—¶é—´æ¶ˆè€—æ˜æ˜¾é™ä½ã€‚

## [#](http://47.98.159.95/leetcode-js/btree/zhijing.html#no-2-äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„)No.2 äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ã€‚

**è¯´æ˜:** å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹:**

```text
è¾“å…¥:

   1
 /   \
2     3
 \
  5

è¾“å‡º: ["1->2->5", "1->3"]
```

1
2
3
4
5
6
7
8
9

**è§£é‡Š:** æ‰€æœ‰æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ä¸º: 1->2->5, 1->3

æ¥æº: [LeetCodeç¬¬257é¢˜](https://leetcode-cn.com/problems/binary-tree-paths/submissions/)

### [#](http://47.98.159.95/leetcode-js/btree/zhijing.html#é€’å½’è§£æ³•)é€’å½’è§£æ³•

åˆ©ç”¨ DFS(æ·±åº¦ä¼˜å…ˆéå†) çš„æ–¹å¼è¿›è¡Œéå†ã€‚

```js
/**
 * @param {TreeNode} root
 * @return {string[]}
 */
var binaryTreePaths = function(root) {
    let path = [];
    let res = [];
    let dfs = (node) => {
        if(node == null) return;
        path.push(node);
        dfs(node.left);
        dfs(node.right);
        if(!node.left && !node.right) 
            res.push(path.map(item => item.val).join('->'));
        // æ³¨æ„æ¯è®¿é—®å®Œä¸€ä¸ªèŠ‚ç‚¹è®°å¾—æŠŠå®ƒä»pathä¸­åˆ é™¤ï¼Œè¾¾åˆ°å›æº¯æ•ˆæœ
        path.pop();
    }
    dfs(root);
    return res;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20

### [#](http://47.98.159.95/leetcode-js/btree/zhijing.html#éé€’å½’è§£æ³•)éé€’å½’è§£æ³•

æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡`éé€’å½’çš„ååºéå†`çš„æ–¹å¼æ¥å®ç°ä¸€ä¸‹, é¡ºä¾¿å¤ä¹ ä¸€ä¸‹ååºéå†çš„å®ç°ã€‚

æç¤º

ååºéå†å…¶å®ä¹Ÿæ˜¯ DFS çš„ä¸€ç§å…·ä½“å®ç°æ–¹å¼ã€‚

```js
var binaryTreePaths = function(root) {
    if(root == null) return [];
    let stack = [];
    let p = root;
    let set = new Set();
    res = [];
    while(stack.length || p) {
        while(p) {
            stack.push(p);
            p = p.left;
        }
        let node = stack[stack.length - 1];
        // å¶å­èŠ‚ç‚¹
        if(!node.right && !node.left) {
            res.push(stack.map(item => item.val).join('->'));
        }
        // å³å­©å­å­˜åœ¨ï¼Œä¸”å³å­©å­æœªè¢«è®¿é—®
        if(node.right && !set.has(node.right)) {
            p = node.right;
            set.add(node.right);
        } else {
            stack.pop();
        }
    }
    return res;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26

## [#](http://47.98.159.95/leetcode-js/btree/zhijing.html#no-3-äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œ)No.3 äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œ

ç»™å®šä¸€ä¸ªéç©ºäºŒå‰æ ‘ï¼Œè¿”å›å…¶æœ€å¤§è·¯å¾„å’Œã€‚

æœ¬é¢˜ä¸­ï¼Œè·¯å¾„è¢«å®šä¹‰ä¸ºä¸€æ¡ä»æ ‘ä¸­ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œè¾¾åˆ°ä»»æ„èŠ‚ç‚¹çš„åºåˆ—ã€‚è¯¥è·¯å¾„è‡³å°‘åŒ…å«ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹**:

```text
è¾“å…¥: [-10,9,20,null,null,15,7]

   -10
   / \
  9  20
    /  \
   15   7

è¾“å‡º: 42
```

1
2
3
4
5
6
7
8
9

æ¥æº: [LeetCodeç¬¬124é¢˜](https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/)

### [#](http://47.98.159.95/leetcode-js/btree/zhijing.html#é€’å½’è§£)é€’å½’è§£

```js
/**
 * @param {TreeNode} root
 * @return {number}
 */
var maxPathSum = function(root) {
    let help = (node) => {
        if(node == null) return 0;
        let left = Math.max(help(node.left), 0);
        let right = Math.max(help(node.right), 0);
        let cur = left + node.val + right;
        // å¦‚æœå‘ç°æŸä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„è·¯å¾„å€¼æ¯”maxè¿˜å¤§ï¼Œåˆ™æ›´æ–°max
        if(cur > max) max = cur;
        // left å’Œ right æ°¸è¿œæ˜¯"ä¸€æ ¹ç­‹"ï¼Œä¸­é—´ä¸ä¼šæœ‰è½¬æŠ˜
        return Math.max(left, right) + node.val;
    }
    let max = Number.MIN_SAFE_INTEGER;
    help(root);
    return max;
};
```











# äºŒå‰æœç´¢æ ‘

## [#](http://47.98.159.95/leetcode-js/btree/binary.html#no-1-éªŒè¯äºŒå‰æœç´¢æ ‘)No.1 éªŒè¯äºŒå‰æœç´¢æ ‘

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚

å‡è®¾ä¸€ä¸ªäºŒå‰æœç´¢æ ‘å…·æœ‰å¦‚ä¸‹ç‰¹å¾ï¼š

èŠ‚ç‚¹çš„å·¦å­æ ‘åªåŒ…å«å°äºå½“å‰èŠ‚ç‚¹çš„æ•°ã€‚ èŠ‚ç‚¹çš„å³å­æ ‘åªåŒ…å«å¤§äºå½“å‰èŠ‚ç‚¹çš„æ•°ã€‚ æ‰€æœ‰å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«å¿…é¡»ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ã€‚

**ç¤ºä¾‹ 1**:

```text
è¾“å…¥:
    2
   / \
  1   3
è¾“å‡º: true
```

1
2
3
4
5

æ¥æº: [LeetCodeç¬¬98é¢˜](https://leetcode-cn.com/problems/validate-binary-search-tree/)

### [#](http://47.98.159.95/leetcode-js/btree/binary.html#æ–¹æ³•ä¸€-ä¸­åºéå†)æ–¹æ³•ä¸€: ä¸­åºéå†

é€šè¿‡ä¸­åºéå†ï¼Œä¿å­˜å‰ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œæ‰«æåˆ°å½“å‰èŠ‚ç‚¹æ—¶ï¼Œå’Œå‰ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼æ¯”è¾ƒï¼Œå¦‚æœå¤§äºå‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™æ»¡è¶³æ¡ä»¶ï¼Œå¦åˆ™ä¸æ˜¯äºŒå‰æœç´¢æ ‘ã€‚

```js
/**
 * @param {TreeNode} root
 * @return {boolean}
 */
var isValidBST = function(root) {
    let prev = null;
    const help = (node) => {
        if(node == null) return true;
        if(!help(node.left)) return false;
        if(prev !== null && prev >= node.val) return false;
        // ä¿å­˜å½“å‰èŠ‚ç‚¹ï¼Œä¸ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„éå†åšå‡†å¤‡
        prev = node.val;
        return help(node.right);
    }
    return help(root);
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16

### [#](http://47.98.159.95/leetcode-js/btree/binary.html#æ–¹æ³•äºŒ-é™å®šä¸Šä¸‹ç•Œè¿›è¡Œdfs)æ–¹æ³•äºŒ: é™å®šä¸Šä¸‹ç•Œè¿›è¡ŒDFS

äºŒå‰æœç´¢æ ‘æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œéƒ½æœ‰ä¸€ä¸ª**ä¸Šç•Œå’Œä¸‹ç•Œ**ï¼Œæ·±åº¦ä¼˜å…ˆéå†çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœè®¿é—®å·¦å­©å­ï¼Œåˆ™é€šè¿‡å½“å‰èŠ‚ç‚¹çš„å€¼æ¥**æ›´æ–°å·¦å­©å­èŠ‚ç‚¹çš„ä¸Šç•Œ**ï¼ŒåŒæ—¶è®¿é—®å³å­©å­ï¼Œåˆ™**æ›´æ–°å³å­©å­çš„ä¸‹ç•Œ**ï¼Œåªè¦å‡ºç°èŠ‚ç‚¹å€¼è¶Šç•Œçš„æƒ…å†µï¼Œåˆ™ä¸æ»¡è¶³äºŒå‰æœç´¢æ ‘çš„æ¡ä»¶ã€‚

```text
  parent
  /    \
left   right
```

1
2
3

å‡è®¾è¿™æ˜¯ä¸€æ£µå·¨å¤§çš„äºŒå‰æ ‘çš„ä¸€ä¸ªéƒ¨åˆ†(parentã€leftã€rightéƒ½æ˜¯å®å®åœ¨åœ¨çš„èŠ‚ç‚¹)ï¼Œé‚£ä¹ˆå…¨éƒ¨çš„èŠ‚ç‚¹æ’å®Œåºä¸€å®šæ˜¯è¿™æ ·:

**...left, parent, right...**

å¯ä»¥çœ‹åˆ°å·¦å­©å­çš„`æœ€ä¸¥æ ¼çš„ä¸Šç•Œ`æ˜¯è¯¥èŠ‚ç‚¹, åŒæ—¶, å³å­©å­çš„`æœ€ä¸¥æ ¼çš„ä¸‹ç•Œ`ä¹Ÿæ˜¯è¯¥èŠ‚ç‚¹ã€‚æˆ‘ä»¬æŒ‰ç…§è¿™æ ·çš„è§„åˆ™æ¥è¿›è¡Œæ›´æ–°ä¸Šä¸‹ç•Œã€‚

é€’å½’å®ç°:

```js
var isValidBST = function(root) {
    const help = (node, max, min) => {
        if(node == null) return true;
        if(node.val >= max || node.val <= min) return false;
        // å·¦å­©å­æ›´æ–°ä¸Šç•Œï¼Œå³å­©å­æ›´æ–°ä¸‹ç•Œï¼Œç›¸å½“äºè¾¹ç•Œè¦æ±‚è¶Šæ¥è¶Šè‹›åˆ»
        return help(node.left, node.val, min)
                && help(node.right, max, node.val);
    }
    return help(root, Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER);
};
```

1
2
3
4
5
6
7
8
9
10

éé€’å½’å®ç°:

```js
var isValidBST = function(root) {
    if(root == null) return true;
    let stack = [root];
    let min = Number.MIN_SAFE_INTEGER;
    let max = Number.MAX_SAFE_INTEGER;
    root.max = max; root.min = min;
    while(stack.length) {
        let node = stack.pop();
        if(node.val <= node.min || node.val >= node.max)
            return false;
        if(node.left) {
            stack.push(node.left);
            // æ›´æ–°ä¸Šä¸‹ç•Œ
            node.left.max = node.val;
            node.left.min = node.min;
        }
        if(node.right) {
            stack.push(node.right);
            // æ›´æ–°ä¸Šä¸‹ç•Œ
            node.right.max = node.max;
            node.right.min = node.val;
        }
    }
    return true;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25

## [#](http://47.98.159.95/leetcode-js/btree/binary.html#no-2-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘)No.2 å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘

å°†ä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æœ‰åºæ•°ç»„ï¼Œè½¬æ¢ä¸ºä¸€æ£µé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚

æœ¬é¢˜ä¸­ï¼Œä¸€ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æ ‘æ˜¯æŒ‡ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚

**ç¤ºä¾‹:**

```text
ç»™å®šæœ‰åºæ•°ç»„: [-10,-3,0,5,9],

ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ï¼š[0,-3,9,-10,null,5]ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä¸‹é¢è¿™ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼š

      0
     / \
   -3   9
   /   /
 -10  5
```

1
2
3
4
5
6
7
8
9

æ¥æº: [LeetCodeç¬¬108é¢˜](https://leetcode-cn.com/problems/convert-sorted-array-to-binary-search-tree/)

### [#](http://47.98.159.95/leetcode-js/btree/binary.html#é€’å½’å®ç°)é€’å½’å®ç°

```js
/**
 * @param {number[]} nums
 * @return {TreeNode}
 */
var sortedArrayToBST = function(nums) {
    let help = (start, end) => {
        if(start > end) return null;
        if(start === end) return new TreeNode(nums[start]);
        let mid = Math.floor((start + end) / 2);
        // æ‰¾å‡ºä¸­ç‚¹å»ºç«‹èŠ‚ç‚¹
        let node = new TreeNode(nums[mid]);
        node.left = help(start, mid - 1);
        node.right = help(mid + 1, end);
        return node;
    }
    return help(0, nums.length - 1);
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17

é€’å½’ç¨‹åºæ¯”è¾ƒå¥½ç†è§£ï¼Œä¸æ–­åœ°è°ƒç”¨ help å®Œæˆæ•´æ£µæ ‘æ ‘çš„æ„å»ºã€‚é‚£å¦‚ä½•ç”¨éé€’å½’æ¥è§£å†³å‘¢ï¼Ÿæˆ‘è§‰å¾—è¿™æ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—å¤§å®¶æ€è€ƒçš„é—®é¢˜ã€‚å¸Œæœ›ä½ èƒ½åŠ¨æ‰‹è¯•ä¸€è¯•ï¼Œå¦‚æœå®åœ¨æƒ³ä¸å‡ºæ¥ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢æˆ‘å†™çš„éé€’å½’ç‰ˆæœ¬ã€‚

å…¶å®æ€è·¯è·Ÿé€’å½’çš„ç‰ˆæœ¬æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡å®ç°èµ·æ¥æ˜¯ç”¨æ ˆæ¥å®ç° DFS çš„æ•ˆæœã€‚

```js
/**
 * @param {number[]} nums
 * @return {TreeNode}
 */
var sortedArrayToBST = function(nums) {
    if(nums.length === 0) return null;
    let mid = Math.floor(nums.length / 2);
    let root = new TreeNode(nums[mid]);
    // è¯´æ˜: 1. index æŒ‡çš„æ˜¯å½“å‰å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼• 
    //      2. æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯åŒºé—´ä¸­ç‚¹ï¼Œé‚£ä¹ˆ start å±æ€§å°±æ˜¯è¿™ä¸ªåŒºé—´çš„èµ·ç‚¹ï¼Œend ä¸ºå…¶ç»ˆç‚¹
    root.index = mid; root.start = 0; root.end = nums.length - 1;
    let stack = [root];
    while(stack.length) {
        let node = stack.pop();
        // node å‡ºæ¥äº†ï¼Œå®ƒæœ¬èº«åŒ…å«äº†ä¸€ä¸ªåŒºé—´ï¼Œ[start, ..., index, ... end]
        // ä¸‹é¢åˆ¤æ–­[node.start, node.index - 1]ä¹‹é—´æ˜¯å¦è¿˜æœ‰å¼€å‘çš„ä½™åœ°
        if(node.index - 1 >= node.start) {
            let leftMid = Math.floor((node.start + node.index)/2);
            let leftNode = new TreeNode(nums[leftMid]);
            node.left = leftNode;
            // åˆå§‹åŒ–æ–°èŠ‚ç‚¹çš„åŒºé—´èµ·ç‚¹ã€ç»ˆç‚¹å’Œç´¢å¼•
            leftNode.start = node.start;
            leftNode.end = node.index - 1;
            leftNode.index = leftMid;
            stack.push(leftNode);
        }
        // ä¸­é—´å¤¹ç€node.index, å·²ç»æœ‰å…ƒç´ äº†ï¼Œè¿™ä¸ªä½ç½®ä¸èƒ½å†å¼€å‘
        // ä¸‹é¢åˆ¤æ–­[node.index + 1, node.end]ä¹‹é—´æ˜¯å¦è¿˜æœ‰å¼€å‘çš„ä½™åœ°
        if(node.end >= node.index + 1) {
            let rightMid = Math.floor((node.index + 1 + node.end)/2);
            let rightNode = new TreeNode(nums[rightMid]);
            node.right = rightNode;
            // åˆå§‹åŒ–æ–°èŠ‚ç‚¹çš„åŒºé—´èµ·ç‚¹ã€ç»ˆç‚¹å’Œç´¢å¼•
            rightNode.start = node.index + 1; 
            rightNode.end = node.end;
            rightNode.index = rightMid;
            stack.push(rightNode);
        }
    }
    return root;
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41

## [#](http://47.98.159.95/leetcode-js/btree/binary.html#no-3-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨)No.3 äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨

ç»™å®šä¸€ä¸ªäºŒå‰(æœç´¢)æ ‘ï¼ŒåŸåœ°å°†å®ƒå±•å¼€ä¸ºé“¾è¡¨ã€‚

ä¾‹å¦‚ï¼Œç»™å®šäºŒå‰æ ‘

```text
    1
   / \
  2   5
 / \   \
3   4   6
```

1
2
3
4
5

å°†å…¶å±•å¼€ä¸ºï¼š

```text
1
 \
  2
   \
    3
     \
      4
       \
        5
         \
          6
```

1
2
3
4
5
6
7
8
9
10
11

æ¥æº: [LeetCodeç¬¬114é¢˜](https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/submissions/)

### [#](http://47.98.159.95/leetcode-js/btree/binary.html#é€’å½’æ–¹å¼)é€’å½’æ–¹å¼

é‡‡ç”¨ååºéå†ï¼Œéå†å®Œå·¦å³å­©å­æˆ‘ä»¬è¦åšäº›ä»€ä¹ˆå‘¢ï¼Ÿç”¨ä¸‹é¢çš„å›¾æ¥æ¼”ç¤ºä¸€ä¸‹(**ç‚¹å‡»å¯æ”¾å¤§**)ï¼š

[![img](http://47.98.159.95/leetcode-js/btree/005.jpg)](http://47.98.159.95/leetcode-js/btree/005.jpg)

```js
/**
 * @param {TreeNode} root
 * @return {void} Do not return anything, modify root in-place instead.
 */
var flatten = function(root) {
    if(root == null) return;
    flatten(root.left);
    flatten(root.right);
    if(root.left) {
        let p = root.left;
        while(p.right) {
            p = p.right;
        }
        p.right = root.right;
        root.right = root.left;
        root.left = null;
    }
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18

### [#](http://47.98.159.95/leetcode-js/btree/binary.html#éé€’å½’æ–¹å¼)éé€’å½’æ–¹å¼

é‡‡ç”¨éé€’å½’çš„ååºéå†æ–¹å¼ï¼Œæ€è·¯è·Ÿä¹‹å‰çš„å®Œå…¨ä¸€æ ·ã€‚

```js
var flatten = function(root) {
    if(root == null) return;
    let stack = [];
    let visited = new Set();
    let p = root;
    // å¼€å§‹ååºéå†
    while(stack.length || p) {
        while(p) {
            stack.push(p);
            p = p.left;
        }
        let node = stack[stack.length - 1];
        // å¦‚æœå³å­©å­å­˜åœ¨ï¼Œè€Œä¸”å³å­©å­æœªè¢«è®¿é—®
        if(node.right && !visited.has(node.right)) {
            p = node.right;
            visited.add(node.right);
        } else {
            // ä»¥ä¸‹ä¸ºæ€è·¯å›¾ä¸­å…³é”®é€»è¾‘
            if(node.left) {
                let p = node.left;
                while(p.right) {
                    p = p.right;
                }
                p.right = node.right;
                node.right = node.left;
                node.left = null;
            }
            stack.pop();
        }
    }
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31

## [#](http://47.98.159.95/leetcode-js/btree/binary.html#no-4-ä¸åŒçš„äºŒå‰æœç´¢æ ‘ii)No.4 ä¸åŒçš„äºŒå‰æœç´¢æ ‘II

ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œç”Ÿæˆæ‰€æœ‰ç”± 1 ... n ä¸ºèŠ‚ç‚¹æ‰€ç»„æˆçš„äºŒå‰æœç´¢æ ‘ã€‚

**ç¤ºä¾‹:**

```text
è¾“å…¥: 3
è¾“å‡º:
[
  [1,null,3,2],
  [3,2,null,1],
  [3,1,null,null,2],
  [2,1,3],
  [1,null,2,null,3]
]
è§£é‡Š:
ä»¥ä¸Šçš„è¾“å‡ºå¯¹åº”ä»¥ä¸‹ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘ï¼š

   1         3     3      2      1
    \       /     /      / \      \
     3     2     1      1   3      2
    /     /       \                 \
   2     1         2                 3
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17

æ¥æº: [LeetCodeç¬¬95é¢˜](https://leetcode-cn.com/problems/unique-binary-search-trees-ii/submissions/)

### [#](http://47.98.159.95/leetcode-js/btree/binary.html#é€’å½’è§£æ³•)é€’å½’è§£æ³•

é€’å½’åˆ›å»ºå­æ ‘

```js
/**
 * @param {number} n
 * @return {TreeNode[]}
 */
var generateTrees = function(n) {
    let help = (start, end) => {
        if(start > end) return [null];
        if(start === end) return [new TreeNode(start)];
        let res = [];
        for(let i = start; i <= end; i++) {
            // å·¦å­©å­é›†
            let leftNodes = help(start, i - 1);
            // å³å­©å­é›†
            let rightNodes = help(i + 1, end);
            for(let j = 0; j < leftNodes.length; j++) {
                for(let k = 0; k < rightNodes.length; k++) {
                    let root = new TreeNode(i);
                    root.left = leftNodes[j];
                    root.right = rightNodes[k];
                    res.push(root);
                }
            }
        }
        return res;
    }
    if(n == 0) return [];
    return help(1, n);
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28

### [#](http://47.98.159.95/leetcode-js/btree/binary.html#éé€’å½’è§£æ³•)éé€’å½’è§£æ³•

```js
var generateTrees = function(n) {
    let clone = (node, offset) => {
        if(node == null) return null;
        let newnode = new TreeNode(node.val + offset);
        newnode.left = clone(node.left, offset);
        newnode.right = clone(node.right, offset);
        return newnode;
    }
    if(n == 0) return [];
    let dp = [];
    dp[0] = [null];
    // i æ˜¯å­é—®é¢˜ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œå­é—®é¢˜: [1], [1,2], [1,2,3]...é€æ­¥é€’å¢ï¼Œç›´åˆ°[1,2,3...,n]
    for(let i = 1; i <= n; i++) {
        dp[i] = [];
        for(let j = 1; j <= i; j++) {
            // å·¦å­æ ‘é›†
            for(let leftNode of dp[j - 1]) {
                // å³å­æ ‘é›†
                for(let rightNode of dp[i - j]) {
                    let node = new TreeNode(j);
                    // å·¦å­æ ‘ç»“æ„å…±äº«
                    node.left = leftNode;
                    // å³å­æ ‘æ— æ³•å…±äº«ï¼Œä½†å¯ä»¥å€Ÿç”¨èŠ‚ç‚¹ä¸ªæ•°ç›¸åŒçš„æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¢åŠ ä¸€ä¸ªåç§»é‡
                    node.right = clone(rightNode, j);
                    dp[i].push(node);
                }
            }
        }
    }
    return dp[n];
};
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31







### **æ·±åº¦/å¹¿åº¦ä¼˜å…ˆæœç´¢** 

